<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script File="Button.lua"/>
	<Script File="Utility.lua"/>
	<Script File="Core.lua"/>
		
	<Frame name="CEPGP_frame" parent="UIParent" hidden="true" enableMouse="true" toplevel="true" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="600" y="480" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Frames>
			<Button name="CEPGP_button_guild" inherits="GameMenuButtonTemplate" text="Guild">
				<Size>
					<AbsDimension x="80" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="CEPGP_frame">
						<Offset>
							<AbsDimension x="10" y="-12" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_toggleFrame("CEPGP_guild");
						CEPGP_mode = "guild";
						CEPGP_populateFrame();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_button_raid" inherits="GameMenuButtonTemplate" text="Raid">
				<Size>
					<AbsDimension x="80" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_button_guild">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						if not UnitInRaid("player") or CEPGP_Info.Debug then
							self:Hide();
						end
					</OnLoad>
					<OnClick>
						PlaySound(799);
						CEPGP_toggleFrame("CEPGP_raid");
						CEPGP_mode = "raid";
						CEPGP_populateFrame();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_button_options" inherits="GameMenuButtonTemplate" text="Options">
			  <HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Size>
					<AbsDimension x="95" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-35" y="-12"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						InterfaceOptionsFrame_Show();
						InterfaceOptionsFrame_OpenToCategory("Classic EPGP");
						--CEPGP_options:Show();
						--CEPGP_interface_options:Show();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_button_loot_dist" inherits="GameMenuButtonTemplate" text="拾取列表" hidden="true">
				<Size>
					<AbsDimension x="100" y="21" />
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="CEPGP_button_options">
						<Offset>
							<AbsDimension x="2.5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						if not UnitInRaid("player") or CEPGP_Info.Debug then
							self:Hide();
						end
					</OnLoad>
					<OnClick>
						PlaySound(799);
						CEPGP_toggleFrame("CEPGP_loot");
						CEPGP_mode = "loot";
						CEPGP_cleanTable();
						CEPGP_LootFrame_Update();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_frame_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_frame:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_distributing_button" inherits="GameMenuButtonTemplate" text="战利品分配" hidden="true">
				<Size>
					<AbsDimension x="125" y="22" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT" x="-10" y="-32.5" />
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_toggleFrame("CEPGP_distribute");
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="CEPGP_guild" inherits="CEPGPFrameTemplate">
				<Size>
					<AbsDimension x="580" y="435" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_button_guild" />
				</Anchors>
				<Frames>
					<Button name="CEPGP_button_guild_dump" inherits="GameMenuButtonTemplate" text="Save Standings">
						<Size>
							<AbsDimension x="125" y="22" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_save_guild_logs:Show()
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_button_guild_export" inherits="GameMenuButtonTemplate" text="Export Standings">
						<Size>
							<AbsDimension x="125" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_distributing_button" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_export:Show();
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_button_guild_import" inherits="GameMenuButtonTemplate" text="Import Standings">
						<Size>
							<AbsDimension x="100" y="22" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="CEPGP_button_guild_export" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_import:Show()
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_button_options_attendance" inherits="GameMenuButtonTemplate" text="Raid Attendance">
						<Size>
							<AbsDimension x="125" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_button_guild_export">
								<Offset>
									<AbsDimension x="0" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_attendance:Show();
								CEPGP_setCriteria(1, "Attendance");
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("Measure the attendance of your raid by creating snapshots.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>
					
					<Button name="CEPGP_button_guild_restore" inherits="GameMenuButtonTemplate" text="Restore Standings">
						<Size>
							<AbsDimension x="125" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_button_guild_dump" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_restore_guild_logs:Show();
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_button_guild_traffic" inherits="GameMenuButtonTemplate" text="View EPGP Traffic">
						<Size>
							<AbsDimension x="125" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_button_guild_restore" />
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								ShowUIPanel(CEPGP_traffic);
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_name" inherits="CEPGPHeaderButton" text="名字" >
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_button_guild_traffic">
								<Offset>
									<AbsDimension x="5" y="-7" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(1, "Guild");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_class" inherits="CEPGPHeaderButton" text="职业">
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_button_guild_traffic">
								<Offset>
									<AbsDimension x="-5" y="-7" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(2, "Guild");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_rank" inherits="CEPGPHeaderButton" text="会阶">
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_guild_class">
								<Offset>
									<AbsDimension x="90" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(4, "Guild");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_EP" inherits="CEPGPHeaderButton" text="EP">
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_guild_rank">
								<Offset>
									<AbsDimension x="80" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(5, "Guild");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_GP" inherits="CEPGPHeaderButton" text="GP">
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT"  relativeTo="CEPGP_guild_EP">
								<Offset>
									<AbsDimension x="80" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(6, "Guild");
							</OnClick>							
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_PR" inherits="CEPGPHeaderButton" text="PR">
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT"  relativeTo="CEPGP_guild_GP">
								<Offset>
									<AbsDimension x="40" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(7, "Guild");
							</OnClick>
						</Scripts>
					</Button>
					<ScrollFrame name="GuildScrollFrame" inherits="UIPanelScrollFrameTemplate">
						<Size>
							<AbsDimension x="550" y="320" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_guild_name">
								<Offset>
									<AbsDimension x="-2" y="0"/>
								</Offset>
							</Anchor>
						</Anchors>
						<ScrollChild>
							<Frame name="CEPGP_guild_scrollframe_container">
								<Size>
									<AbsDimension x="550" y="300" />
								</Size>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
					<Button name="CEPGP_guild_add_EP" inherits="GameMenuButtonTemplate" text="Add Guild EP">
						<Size>
							<AbsDimension x="100" y="21" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="GuildScrollFrame">
								<Offset>
									<AbsDimension x="0" y="-5" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								if CanEditOfficerNote() then
									self:Hide();
								end
							</OnLoad>
							<OnClick>
								PlaySound(799);
								CEPGP_ListButton_OnClick(self:GetName(), button);
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("为整个公会加/减EP.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_decay" inherits="GameMenuButtonTemplate" text="Decay Guild EPGP">
						<Size>
							<AbsDimension x="120" y="21" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeTo="CEPGP_guild_add_EP">
								<Offset>
									<AbsDimension x="115" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_ListButton_OnClick(self:GetName(), button);
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("衰减/膨胀整个公会的EPGP排名。");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
							<OnShow>
								if CEPGP.Decay.Separate or not CanEditOfficerNote() then
									self:Hide();
								end
							</OnShow>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_decay_EP" inherits="GameMenuButtonTemplate" text="衰变公会EP">
						<Size>
							<AbsDimension x="120" y="21" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeTo="CEPGP_guild_add_EP">
								<Offset>
									<AbsDimension x="115" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								CEPGP_ListButton_OnClick(self:GetName(), button);
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("衰减/膨胀整个公会的EP。");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
							<OnShow>
								if CanEditOfficerNote() and CEPGP.Decay.Separate then
									self:Show();
								elseif not CanEditOfficerNote() or not CEPGP.Decay.Separate then
									self:Hide();
								end
							</OnShow>
						</Scripts>
					</Button>
					<Button name="CEPGP_guild_decay_GP" inherits="GameMenuButtonTemplate" text="衰变公会GP">
						<Size>
							<AbsDimension x="120" y="21" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeTo="CEPGP_guild_decay_EP">
								<Offset>
									<AbsDimension x="115" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnShow>
								if CanEditOfficerNote() and CEPGP.Decay.Separate then
									self:Show();
								elseif not CanEditOfficerNote() or not CEPGP.Decay.Separate then
									self:Hide();
								end
							</OnShow>
							<OnClick>
								PlaySound(799);
								CEPGP_ListButton_OnClick(self:GetName(), button);
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("衰减/膨胀整个公会的GP。");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>

					<Button name="CEPGP_guild_reset" inherits="GameMenuButtonTemplate" text="Reset All EPGP Standings">
						<Size>
							<AbsDimension x="160" y="21" />
						</Size>
						<Anchors>
							<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
								<Offset>
									<AbsDimension x="0" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								if not CanEditOfficerNote() then
									self:Hide();
								end
							</OnLoad>
							<OnClick>
								PlaySound(799);
								CEPGP_ListButton_OnClick(self:GetName(), button);
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("将整个公会的EPGP积分重置为默认值。");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>
				</Frames>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_guild_CEPGP_mode" inherits="GameFontNormal" text="当前位置：公会">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="CENTER" relativePoint="TOP" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="CEPGP_raid" inherits="CEPGPFrameTemplate">
				<Size>
					<AbsDimension x="580" y="435" />
				</Size>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_raid_CEPGP_mode" inherits="GameFontNormal" text="当前位置：团队">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="CENTER" relativePoint="TOP" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<ScrollFrame name="RaidScrollFrame" inherits="UIPanelScrollFrameTemplate">
						<Size>
							<AbsDimension x="550" y="320" />
						</Size>
						<Anchors>
							<Anchor point="CENTER" relativePoint="CENTER" relativeTo="GuildScrollFrame">
								<Offset>
									<AbsDimension x="0" y="0"/>
								</Offset>
							</Anchor>
						</Anchors>
						<ScrollChild>
							<Frame name="CEPGP_raid_scrollframe_container">
								<Size>
									<AbsDimension x="550" y="300" />
								</Size>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
					<Button name="CEPGP_raid_name" inherits="CEPGPHeaderButton" text="名字">
						<Size>
							<AbsDimension x="30" y="20" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="5" y="-50" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(1, "Raid");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_raid_class" inherits="CEPGPHeaderButton" text="职业">
						<Size>
							<AbsDimension x="30" y="20" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_button_guild_traffic">
								<Offset>
									<AbsDimension x="-5" y="-7" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(2, "Raid");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_raid_rank" inherits="CEPGPHeaderButton" text="会阶">
						<Size>
							<AbsDimension x="30" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_raid_class">
								<Offset>
									<AbsDimension x="90" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(4, "Raid");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_raid_EP" inherits="CEPGPHeaderButton" text="EP">
						<Size>
							<AbsDimension x="30" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_raid_rank">
								<Offset>
									<AbsDimension x="80" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(5, "Raid");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_raid_GP" inherits="CEPGPHeaderButton" text="GP">
						<Size>
							<AbsDimension x="30" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_raid_EP">
								<Offset>
									<AbsDimension x="80" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(6, "Raid");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_raid_PR" inherits="CEPGPHeaderButton" text="PR">
						<Size>
							<AbsDimension x="30" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_raid_GP">
								<Offset>
									<AbsDimension x="40" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(7, "Raid");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_raid_add_EP" inherits="GameMenuButtonTemplate" text="增加团队EP">
						<Size>
							<AbsDimension x="100" y="21" />
						</Size>
						<Anchors>
							<Anchor point="BOTTOMLEFT">
								<Offset>
									<AbsDimension x="10" y="25" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								if not CanEditOfficerNote() then
									self:Hide();
								end
							</OnLoad>
							<OnClick>
								PlaySound(799);
								CEPGP_ListButton_OnClick(self:GetName(), button);
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
			</Frame>
			<Frame name="CEPGP_loot" inherits="CEPGPFrameTemplate">
				<Size>
					<AbsDimension x="580" y="435" />
				</Size>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_loot_CEPGP_mode" inherits="GameFontNormal" text="当前位置：战利品分配">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="CENTER" relativePoint="TOP" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<Button name="CEPGP_loot_announce" inherits="CEPGPHeaderButton" text="宣布分配">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="20" y="-10" />
								</Offset>
							</Anchor>
						</Anchors>
					</Button>
					<Button name="CEPGP_loot_item" inherits="CEPGPHeaderButton" text="物品">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_announce">
								<Offset>
									<AbsDimension x="40" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
					</Button>
					<Button name="CEPGP_loot_GP" inherits="CEPGPHeaderButton" text="GP">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="TOPRIGHT">
								<Offset>
									<AbsDimension x="-20" y="-10" />
								</Offset>
							</Anchor>
						</Anchors>
					</Button>
				</Frames>
			</Frame>
			<Frame name="CEPGP_distribute" inherits="CEPGPFrameTemplate">
				<Size>
					<AbsDimension x="710" y="435" />
				</Size>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_distribute_CEPGP_mode" inherits="GameFontNormal" text="分配战利品">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="CENTER" relativePoint="TOP">
									<Offset>
										<AbsDimension x="0" y="-20" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_distribute_item" inherits="GameFontNormal" text="物品">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset>
										<AbsDimension x="50" y="-30" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_distribute_item_name" inherits="GameFontNormal">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="CEPGP_distribute">
									<Offset>
										<AbsDimension x="49" y="-45" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_distribute_GP_head" inherits="GameFontNormal" text="GP">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPRIGHT">
									<Offset>
										<AbsDimension x="-20" y="-30" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_distribute_GP_value" inherits="GameFontNormal" text="0">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="BOTTOM" relativeTo="CEPGP_distribute_GP_head">
									<Offset>
										<AbsDimension x="0" y="-15" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="$parent_time" inherits="GameFontNormal" hidden="true">
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
									<Offset>
										<AbsDimension x="10" y="20" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<Texture name="CEPGP_distribute_item_texture">
							<Size>
								<AbsDimension x="30" y="30" />
							</Size>
							<Anchors>
								<Anchor point="LEFT" relativeTo="CEPGP_distribute_item_name">
									<Offset>
										<AbsDimension x="-32" y="5" />
									</Offset>
								</Anchor>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Button name="CEPGP_distribute_item_tex">
						<Size>
							<AbsDimension x="30" y="30" />
						</Size>
						<Anchors>
							<Anchor point="CENTER" relativeTo="CEPGP_distribute_item_texture" relativePoint="CENTER" />
						</Anchors>
					</Button>
					<Button name="CEPGP_distribute_item_name_frame">
						<Size>
							<AbsDimension x="228" y="20" />
						</Size>
						<Anchors>
							<Anchor point="CENTER" relativeTo="CEPGP_distribute_item_name" />
						</Anchors>
					</Button>
					<!--Display for the raid members-->
					<Button name="CEPGP_distribute_raid_name" inherits="CEPGPHeaderButton" text="名字">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="-10" y="-70" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(1, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_class" inherits="CEPGPHeaderButton" text="职业">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_distribute_raid_name">
								<Offset>
									<AbsDimension x="82.5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(2, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_rank" inherits="CEPGPHeaderButton" text="会阶">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_distribute_raid_class">
								<Offset>
									<AbsDimension x="90" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(4, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_response" inherits="CEPGPHeaderButton" text="响应">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_distribute_raid_rank">
								<Offset>
									<AbsDimension x="105" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(11, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_EP" inherits="CEPGPHeaderButton" text="EP">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_distribute_raid_response">
								<Offset>
									<AbsDimension x="85" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(5, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_GP" inherits="CEPGPHeaderButton" text="GP">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativePoint="RIGHT" relativeTo="CEPGP_distribute_raid_EP">
								<Offset>
									<AbsDimension x="85" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(6, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_PR" inherits="CEPGPHeaderButton" text="PR">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_distribute_raid_GP">
								<Offset>
									<AbsDimension x="15" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(7, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_distribute_raid_roll" inherits="CEPGPHeaderButton" text="Roll">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_distribute_raid_PR">
								<Offset>
									<AbsDimension x="10" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(12, "Loot");
							</OnClick>
						</Scripts>
					</Button>
					<ScrollFrame name="DistScrollFrame" inherits="UIPanelScrollFrameTemplate">
						<Size>
							<AbsDimension x="690" y="320" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="0" y="-75"/>
								</Offset>
							</Anchor>
						</Anchors>
						<ScrollChild>
							<Frame name="CEPGP_dist_scrollframe_container">
								<Size>
									<AbsDimension x="690" y="300" />
								</Size>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
					<Button name="$parent_roll_award" inherits="GameMenuButtonTemplate" text="授予Roll点最高者">
						<Size>
							<AbsDimension x="150" y="25" />
						</Size>
						<Anchors>
							<Anchor point="BOTTOMRIGHT">
								<Offset>
									<AbsDimension x="0" y="12" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								PlaySound(799);
								
								local player, class, colouredName;
								local highestRoll = 0;
								local gp = math.floor(CEPGP_distribute_GP_value:GetText());
								for name, v in pairs(CEPGP_itemsTable) do
									if v[4] then
										if v[4] > highestRoll then
											player = name;
											highestRoll = v[4];
										end
									end
								end
								
								if highestRoll == 0 then return; end
								
								if CEPGP_roster[player] then
									class = CEPGP_roster[player][7];
								else
									for index, v in ipairs(CEPGP_raidRoster) do
										if v[1] == player then
											class = v[8];
											break;
										end
									end
								end
																
								CEPGP_distPlayer = player;
								
								colouredName = CEPGP_encodeClassString(class, player);
								
								CEPGP_roll_award_confirm:Show();
								CEPGP_roll_award_confirm_desc:SetText("你想获得奖励 " .. CEPGP_distItemLink .. "\nto " .. colouredName .. " for " .. gp .. "GP with a roll of " .. highestRoll .. "?");
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
				<Scripts>
					<OnShow>
						CEPGP_distributing_button:Show();
						if CEPGP_isML() ~= 0 then
							CEPGP_distribute_roll_award:Hide();
						else
							CEPGP_distribute_roll_award:Show();
						end
						CEPGP_frame:SetWidth(CEPGP_frame:GetWidth()+150);
						
						self:SetPoint("BOTTOMLEFT", 20, 0);
					</OnShow>
					<OnHide>
						CEPGP_frame:SetWidth(CEPGP_frame:GetWidth()-150);
					</OnHide>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterEvent("LOOT_OPENED");
				self:RegisterEvent("LOOT_CLOSED");
				self:RegisterEvent("LOOT_SLOT_CLEARED");
				self:RegisterEvent("CHAT_MSG_WHISPER");
				self:RegisterEvent("ADDON_LOADED");
				self:RegisterEvent("GUILD_ROSTER_UPDATE");
				self:RegisterEvent("GROUP_ROSTER_UPDATE");
				self:RegisterEvent("CHAT_MSG_MONSTER_EMOTE");
				self:RegisterEvent("CHAT_MSG_ADDON");
				self:RegisterEvent("CHAT_MSG_ADDON_LOGGED");
				self:RegisterEvent("PLAYER_REGEN_DISABLED");
				self:RegisterEvent("CHAT_MSG_MONSTER_YELL");
				self:RegisterEvent("COMBAT_LOG_EVENT_UNFILTERED");
				self:RegisterEvent("PARTY_LOOT_METHOD_CHANGED");
				self:RegisterEvent("CHAT_MSG_BN_WHISPER");
				self:RegisterEvent("GET_ITEM_INFO_RECEIVED");
				self:RegisterEvent("UNIT_SPELLCAST_SUCCEEDED");
				self:RegisterEvent("PLAYER_ROLES_ASSIGNED");
				self:RegisterEvent("ENCOUNTER_END");
			</OnLoad>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
			<OnEvent>
				CEPGP_OnEvent(event, ...);
			</OnEvent>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_log" enableMouse="true" movable="true" clampedToScreen="true" hidden="true">
		<Size x="600" y="350" />
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="384" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parent_title" inherits="GameFontNormal" text="CEPGP消息记录">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_log_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="30" y="30" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_log:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_log_update" inherits="GameMenuButtonTemplate" text="更新日志">
				<Size x="75" y="21" />
				<Anchors>
					<Anchor point="TOPLEFT" x="10" y="-10" />
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_UpdateLogScrollBar();
					</OnClick>
				</Scripts>
			</Button>
			<ScrollFrame inherits="UIPanelScrollFrameTemplate">
				<Size x="545" y="300" />
				<Anchors>
					<Anchor point="TOPRIGHT" x="-32" y="-40" />
				</Anchors>
				<ScrollChild>
					<EditBox name="CEPGP_log_container" autofocus="false" multiline="true">
						<Size x="545" y="300" />
						<Anchors>
							<Anchor point="TOPLEFT" />
						</Anchors>
						<FontString inherits="GameFontNormalSmall"/>
						<Scripts>
							<OnLoad>
								self:Disable();
							</OnLoad>
						</Scripts>
					</EditBox>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
		<Scripts>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
			<OnShow>
				CEPGP_UpdateLogScrollBar();
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_version" enableMouse="true" hidden="true" movable="true" parent="UIParent" clampedToScreen="true">
		<Size>
			<AbsDimension x="450" y="450" />
		</Size>
		<Anchors>
			<Anchor point="CENTER">
				<Offset>
					<AbsDimension x="0" y="-30" />
				</Offset>
			</Anchor>
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Attributes>
			<Attribute name="offline" type="string" value="true" />
		</Attributes>

		<Layers>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_version_offline" inherits="GameFontNormal" text="显示离线玩家：">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="10" y="-10" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_version_CEPGP_mode" inherits="GameFontNormal" text="当前位置：版本检测">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="CENTER" relativePoint="TOP">
							<Offset>
								<AbsDimension x="0" y="-30" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_version_number" inherits="GameFontNormal">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_version_CEPGP_mode">
							<Offset>
								<AbsDimension x="0" y="0" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="$parent_offline_check" inherits="UIOptionsCheckButtonTemplate" checked="true">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_version_offline">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnShow>
						self:SetChecked(true);
					</OnShow>
					<OnClick>
						if self:GetChecked() then
							CEPGP_version:SetAttribute("offline", "true");
							CEPGP_UpdateVersionScrollBar();
						else
							CEPGP_version:SetAttribute("offline", "false");
							CEPGP_UpdateVersionScrollBar();
						end
					</OnClick>
				</Scripts>
			</CheckButton>
			<ScrollFrame nme="CEPGP_version_scrollframe" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="400" y="300"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="CEPGP_version" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="10" y="-75"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<Frame name="CEPGP_version_scrollframe_container">
						<Size>
							<AbsDimension x="400" y="300" />
						</Size>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
			<Button name="CEPGP_version_name" inherits="CEPGPHeaderButton" text="名字">
				<Size>
					<AbsDimension x="35" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="60" y="-50" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(1, "Version");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_version_version" inherits="CEPGPHeaderButton" text="版本">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="CEPGP_version_name">
						<Offset>
							<AbsDimension x="260" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(2, "Version");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_version_close" inherits="GameMenuButtonTemplate" text="关闭">
				<Size>
					<AbsDimension x="100" y="21" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="10" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_version);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_version_raid_check" inherits="GameMenuButtonTemplate" text="获取团队状态">
				<Size>
					<AbsDimension x="140" y="21" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-7.5" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_rosterUpdate("GUILD_ROSTER_UPDATE");
						CEPGP_vInfo = {};
						CEPGP_SendAddonMsg("version-check", "RAID");
						CEPGP_vSearch = "RAID";
						CEPGP_groupVersion = {};
						for i = 1, GetNumGroupMembers() do
							local name, _, _, _, class, classFile, _, online = GetRaidRosterInfo(i);
							if online then
								CEPGP_groupVersion[i] = {
									[1] = name,
									[2] = "未安装插件",
									[3] = class,
									[4] = classFile
								};
							else
								CEPGP_groupVersion[i] = {
									[1] = name,
									[2] = "离线",
									[3] = class,
									[4] = classFile
								};
							end
						end
						CEPGP_UpdateVersionScrollBar();

					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_version_guild_check" inherits="GameMenuButtonTemplate" text="获取公会状态">
				<Size>
					<AbsDimension x="145" y="21" />
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="CEPGP_version_raid_check" />
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_vInfo = {};
						CEPGP_vSearch = "GUILD";
						CEPGP_SendAddonMsg("version-check", "GUILD");
						CEPGP_groupVersion = {};
						for i = 1, GetNumGuildMembers() do
							local name, _, _, _, class, _, _, _, online, _, classFileName = GetGuildRosterInfo(i);
							if string.find(name, "-") then
								name = string.sub(name, 0, string.find(name, "-")-1);
							end
							if online then
								CEPGP_groupVersion[i] = {
									[1] = name,
									[2] = "未安装插件",
									[3] = class,
									[4] = classFileName
								};
							else
								CEPGP_groupVersion[i] = {
									[1] = name,
									[2] = "离线",
									[3] = class,
									[4] = classFileName
								};
							end
						end
						CEPGP_UpdateVersionScrollBar();
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnHide>
				self:SetAttribute("offline", "true");
			</OnHide>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_distribute_popup" frameStrata="DIALOG" enableMouse="true" parent="UIParent" hidden="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="400" y="100"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Attributes>
			<Attribute name="response" type="int" value="0" />
			<Attribute name="responseName" type="string" value=""/>
		</Attributes>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11"/>
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32"/>
			</TileSize>
			<EdgeSize>
				<AbsValue val="32"/>
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_distribute_popup_header" inherits="GameFontNormal" text="分配战利品">
					<Anchors>
						<Anchor point="TOP" relativeTo="CEPGP_distribute_popup">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_distribute_popup_title" inherits="GameFontNormal" text="物品信息">
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_distribute_popup_header">
							<Offset>
								<AbsDimension x="0" y="-10"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_pass" inherits="GameMenuButtonTemplate" text="取消">
				<Size>
					<AbsDimension x="80" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-7.5" y="-7.5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_distribute_popup:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_distribute_popup_gp" inherits="GameMenuButtonTemplate" text="优惠">
				<Size>
					<AbsDimension x="110" y="40"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOM" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="10"/>
					</Offset>
				</Anchor>
			</Anchors>
			</Button>
			<Button name="CEPGP_distribute_popup_gp_full" inherits="GameMenuButtonTemplate" text="给予全价">
				<Size>
					<AbsDimension x="110" y="40"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="7.5" y="10"/>
					</Offset>
				</Anchor>
			</Anchors>
			</Button>
			<Button name="CEPGP_distribute_popup_free" inherits="GameMenuButtonTemplate">
				<Size>
					<AbsDimension x="110" y="40"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-7.5" y="10"/>
					</Offset>
				</Anchor>
			</Anchors>
				<Scripts>
					<OnLoad>
						self:SetText("免费赠送");
					</OnLoad>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterEvent("UI_ERROR_MESSAGE");
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnShow>
			</OnShow>
			<OnEvent>
				if CEPGP_distPlayer ~= "" then
					local eCode = select(1, ...);
					CEPGP_distribute_popup_OnEvent(eCode);
				end
			</OnEvent>
			<OnHide>
				CEPGP_distribute_popup_title:SetText("");
				CEPGP_distPlayer = "";
			</OnHide>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_context_popup" frameStrata="DIALOG" enableMouse="true" parent="UIParent" hidden="true" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="300" y="175"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11"/>
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32"/>
			</TileSize>
			<EdgeSize>
				<AbsValue val="32"/>
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_context_popup_EP_check_text" inherits="GameFontNormal" text="EP">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="CEPGP_context_popup">
							<Offset>
								<AbsDimension x="32" y="-15"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_context_popup_GP_check_text" inherits="GameFontNormal" text="GP">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="CEPGP_context_popup">
							<Offset>
								<AbsDimension x="32" y="-35"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_context_popup_header" inherits="GameFontNormal" text="适度">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_context_popup_title" inherits="GameFontNormal" text="增加公会EP">
					<Anchors>
						<Anchor point="BOTTOM" relativeTo="CEPGP_context_popup_header">
							<Offset>
								<AbsDimension x="0" y="-20"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_context_popup_desc" inherits="GameFontNormal" text="增加公会EP">
					<Anchors>
						<Anchor point="TOP" relativeTo="CEPGP_context_popup_title" relativePoint="BOTTOM">
							<Offset>
								<AbsDimension x="0" y="-15"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_context_popup_reason" inherits="GameFontNormal" text="原因（可选）">
					<Anchors>
						<Anchor point="BOTTOM" relativeTo="CEPGP_context_popup_title">
							<Offset>
								<AbsDimension x="0" y="-70"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="CEPGP_context_popup_EP_check" inherits="UIOptionsCheckButtonTemplate" checked="1">
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="10" y="-10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForClicks('LeftButtonDown');
					</OnLoad>
					<OnClick>
						if self:GetChecked() then
							CEPGP_context_popup_GP_check:SetChecked(nil);
							CEPGP_context_popup_desc:SetText("增加/删除 EP");
						else
							self:SetChecked(1);
						end
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_context_popup_GP_check" inherits="UIOptionsCheckButtonTemplate">
				<Anchors>
					<Anchor point="BOTTOM" relativeTo="CEPGP_context_popup_EP_check">
						<Offset>
							<AbsDimension x="0" y="-20" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForClicks('LeftButtonDown');
					</OnLoad>
					<OnClick>
						if self:GetChecked() then
							CEPGP_context_popup_EP_check:SetChecked(nil);
							CEPGP_context_popup_desc:SetText("增加/删除 GP");
						else
							self:SetChecked(1);
						end
					</OnClick>
				</Scripts>
			</CheckButton>
			<EditBox name="CEPGP_context_amount" inherits="InputBoxTemplate" letters="15">
				<Size>
					<AbsDimension x="105" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeTo="CEPGP_context_popup_desc" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
						self:SetText("0");
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<EditBox name="CEPGP_context_reason" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="210" y="20" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset>
							<AbsDimension x="0" y="-30" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<Button name="CEPGP_context_popup_cancel" inherits="GameMenuButtonTemplate" text="取消">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_context_popup);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_context_popup_confirm" inherits="GameMenuButtonTemplate" text="确认">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_decay_popup" frameStrata="DIALOG" enableMouse="true" hidden="true" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="300" y="200"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11"/>
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32"/>
			</TileSize>
			<EdgeSize>
				<AbsValue val="32"/>
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parent_percent_text" inherits="GameFontNormal" text="百分比: ">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="12" y="-15"/>
							</Offset>
						</Anchor>
						
					</Anchors>
				</FontString>
				<FontString name="$parent_fixed_text" inherits="GameFontNormal" text="固定数值: ">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_percent_text">
							<Offset>
								<AbsDimension x="0" y="-12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_header" inherits="GameFontNormal" text="衰变">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-60"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_reason_text" inherits="GameFontNormal" text="原因（可选）" />
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="$parent_fixed_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_fixed_text">
						<Offset>
							<AbsDimension x="5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if not self:GetChecked() then
							self:SetChecked(true);
						end
						
						CEPGP_decay_popup_percent_check:SetChecked(false);
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="$parent_percent_check" inherits="UIOptionsCheckButtonTemplate" checked="1">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_percent_text">
						<Offset>
							<AbsDimension x="5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if not self:GetChecked() then
							self:SetChecked(true);
						end
						
						CEPGP_decay_popup_fixed_check:SetChecked(false);
					</OnClick>
				</Scripts>
			</CheckButton>
			<EditBox name="$parent_amount" inherits="InputBoxTemplate" letters="15">
				<Size>
					<AbsDimension x="105" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeTo="CEPGP_decay_popup_desc" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
						self:SetText("0");
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_reason" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="210" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_reason_text">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<Button name="$parent_cancel" inherits="GameMenuButtonTemplate" text="取消">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_decay_popup);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_confirm" inherits="GameMenuButtonTemplate" text="确认">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
				self:SetScale(0.66);
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				CEPGP_decay_popup_reason_text:SetPoint("TOP", CEPGP_decay_popup_amount, "BOTTOM", 0, -10);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_award_raid_popup" frameStrata="DIALOG" enableMouse="true" hidden="true" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="300" y="200"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11"/>
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32"/>
			</TileSize>
			<EdgeSize>
				<AbsValue val="32"/>
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parent_standby_text" inherits="GameFontNormal" text="同时增加替补: ">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="12" y="-30"/>
							</Offset>
						</Anchor>
						
					</Anchors>
				</FontString>
				<FontString name="$parent_header" inherits="GameFontNormal" text="团队调节">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_desc" inherits="GameFontNormal" text="为整个团队增加/减少EP">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-60"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_reason_text" inherits="GameFontNormal" text="原因（可选）" />
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="$parent_standby_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_standby_text">
						<Offset>
							<AbsDimension x="5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<EditBox name="$parent_amount" inherits="InputBoxTemplate" letters="15">
				<Size>
					<AbsDimension x="105" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeTo="CEPGP_award_raid_popup_desc" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
						self:SetText("0");
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_reason" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="210" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_reason_text">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<Button name="$parent_cancel" inherits="GameMenuButtonTemplate" text="取消">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_award_raid_popup);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_confirm" inherits="GameMenuButtonTemplate" text="确认">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
				self:SetScale(0.66);
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				CEPGP_award_raid_popup_reason_text:SetPoint("TOP", CEPGP_award_raid_popup_amount, "BOTTOM", 0, -10);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_save_guild_logs" frameStrata="DIALOG" enableMouse="true" parent="UIParent" hidden="true" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="300" y="175"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11"/>
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32"/>
			</TileSize>
			<EdgeSize>
				<AbsValue val="32"/>
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_guild_log_save_header" inherits="GameFontNormal" text="保存公会排名">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_guild_log_save_desc" inherits="GameFontNormal" text="">
					<Anchors>
						<Anchor point="CENTER">
							<Offset>
								<AbsDimension x="0" y="35"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<EditBox name="CEPGP_guild_log_save_name" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="250" y="20" />
				</Size>
				<Anchors>
					<Anchor point="CENTER">
						<Offset>
							<AbsDimension x="0" y="-15" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<Button name="CEPGP_guild_log_save_cancel" inherits="GameMenuButtonTemplate" text="取消">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_save_guild_logs);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_guild_log_save_confirm" inherits="GameMenuButtonTemplate" text="确认">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_saveStandings(CEPGP_guild_log_save_name:GetText());
					</OnClick>
					<OnHide>
						CEPGP_overwritelog = false;
						CEPGP_recordholder = nil;
					</OnHide>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
				CEPGP_guild_log_save_desc:SetText("命名你的备份名称\n\n如果选择已使用的名称，\n它将覆盖现有备份日志.");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_restore_guild_logs" frameStrata="DIALOG" enableMouse="true" parent="UIParent" hidden="true" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="300" y="175"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11"/>
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32"/>
			</TileSize>
			<EdgeSize>
				<AbsValue val="32"/>
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_guild_log_restore_header" inherits="GameFontNormal" text="恢复列表">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_guild_log_restore_desc" inherits="GameFontNormal" text="">
					<Anchors>
						<Anchor point="CENTER">
							<Offset>
								<AbsDimension x="0" y="35"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_restoreDropdown" inherits="UIDropDownMenuTemplate">
				<Anchors>
					<Anchor point="CENTER" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="70" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnShow>
						UIDropDownMenu_SetWidth(self, 250);
						CEPGP_initRestoreDropdown();
					</OnShow>
					<OnLoad>
						CEPGP_initDropdown(self, CEPGP_initRestoreDropdown);
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="CEPGP_guild_log_restore_cancel" inherits="GameMenuButtonTemplate" text="取消">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_restore_guild_logs);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_guild_log_restore_delete" inherits="GameMenuButtonTemplate" text="删除备份">
				<Size>
					<AbsDimension x="100" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						local record = UIDropDownMenu_GetSelectedName(CEPGP_restoreDropdown);
						RECORDS[record] = nil;
						CEPGP_print("删除日志: " .. record);
						CEPGP_initDropdown(self, CEPGP_initRestoreDropdown);
					</OnClick>
					<OnLoad>
						CEPGP_initDropdown(self, CEPGP_initRestoreDropdown);
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="CEPGP_guild_log_restore_confirm" inherits="GameMenuButtonTemplate" text="确认">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="16" y="16"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						local name = UIDropDownMenu_GetSelectedName(CEPGP_restoreDropdown);
						
						local function update()
							CEPGP_Info.IgnoreUpdates = false;
							CEPGP_rosterUpdate("GUILD_ROSTER_UPDATE");
							CEPGP_print("公会EPGP积分已从备份中恢复 [" .. name .. "]");
							CEPGP_addTraffic("Guild", UnitName("player"), "从日志恢复EPGP积分 [" .. name .. "]");
							if _G["CEPGP_traffic"]:IsVisible() then
								CEPGP_UpdateTrafficScrollBar();
							end
						end
						
						CEPGP_Info.IgnoreUpdates = true;
						
						C_Timer.After(0.1, function()
							if RECORDS[name] ~= nil and CEPGP_confirmrestore then
								local i = 0;
								C_Timer.NewTicker(0.0001, function()
									i = i + 1;
									local rankIndex = select(3, GetGuildRosterInfo(i));
									if RECORDS[name][GetGuildRosterInfo(i)] and not CEPGP.Exclusions[rankIndex+1] then
										GuildRosterSetOfficerNote(i, RECORDS[name][GetGuildRosterInfo(i)]);
									end
									if i == GetNumGuildMembers() then
										update();
									end
								end, GetNumGuildMembers());
								CEPGP_confirmrestore = false;
								HideUIPanel(CEPGP_restore_guild_logs);
							elseif RECORDS[name] ~= nil then
								CEPGP_print("你确定要从该备份中恢复公会EPGP积分 [" .. name .. "]?");
								CEPGP_print("此操作无法撤消。再次按确认恢复.");
								CEPGP_confirmrestore = true;
							else
								CEPGP_print("备份 [" .. name .. "]找不到", true);
							end
						end);
					</OnClick>
					<OnHide>
						CEPGP_confirmrestore = false;
					</OnHide>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
				CEPGP_guild_log_restore_desc:SetText("选择要还原的备份\n\n|c00FF0000确保这是你想要做的.\n这将覆盖所有当前的公会EPGP。");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnHide>
				CloseDropDownMenus();
			</OnHide>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_settings_import" frameStrata="DIALOG" enableMouse="true" parent="UIParent" movable="true" clampedToScreen="true" hidden="true">
		<Size>
			<AbsDimension x="450" y="400"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11"/>
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32"/>
			</TileSize>
			<EdgeSize>
				<AbsValue val="32"/>
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_settings_import_header" inherits="GameFontNormal" text="导入设置">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_settings_import_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_name_string" inherits="GameFontNormal" text="输入导入玩家ID:">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_settings_import_desc" x="-5" y="-15" />
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<ScrollFrame name="$parent_sf" inherits="UIPanelScrollFrameTemplate">
				<Anchors>
					<Anchor point="BOTTOMLEFT" x="5" y="60" />
				</Anchors>
				<ScrollChild>
					<Frame name="$parent_container">
					</Frame>
				</ScrollChild>
			</ScrollFrame>
			<CheckButton name="$parent_verbose_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeTo="$parent_sf">
						<Offset>
							<AbsDimension x="2.5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_desc" inherits="GameFontNormal" text="启用详细报告" justifyH="LEFT">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnClick>
						CEPGP_Info.VerboseLogging = self:GetChecked();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("报告：在导入过程中显示状态更新。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
					<OnShow>
						self:SetChecked(CEPGP_Info.VerboseLogging);
					</OnShow>
				</Scripts>
			</CheckButton>
			<EditBox name="CEPGP_settings_import_name" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="100" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_name_string">
						<Offset>
							<AbsDimension x="5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<Button name="$parent_select_all" inherits="GameMenuButtonTemplate" text="全选">
				<Size x="75" y="30" />
				<Anchors>
					<Anchor point="BOTTOMLEFT" x="15" y="10" />
				</Anchors>
				<Scripts>
					<OnClick>
						for i = 1, 9 do
							local frame = _G["ImportCheckButton_" .. i];
							frame:SetChecked(true);
						end
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_select_none" inherits="GameMenuButtonTemplate" text="全部取消">
				<Size x="75" y="30" />
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_settings_import_select_all" x="5" />
				</Anchors>
				<Scripts>
					<OnClick>
						for i = 1, 9 do
							local frame = _G["ImportCheckButton_" .. i];
							frame:SetChecked(false);
						end
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_settings_import_confirm" inherits="GameMenuButtonTemplate" text="确认">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-15" y="10"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_settings_import_name:ClearFocus();
						local name = CEPGP_settings_import_name:GetText();
						local IsInGuild = false;
						local IsInRaid = false;
						
						if #name == 0 then
							return;
						end
						
						if name == UnitName("player") then
							return;
						end
						
						if CEPGP_ContainsIllegalChar(name) then
							CEPGP_print("发现一个无效字符，请提供的正确的ID。请删除无效字符，或保证该ID保持在线状态，然后重试。", true);
							return;
						end
						
						for i = 1, GetNumGuildMembers() do
							local _name = Ambiguate(GetGuildRosterInfo(i), "all");
							if string.lower(name) == string.lower(_name) then
								name = _name;
								IsInGuild = true;
							end
						end
						
						if not found then
							for i = 1, GetNumGroupMembers() do
								local _name = Ambiguate(GetGuildRosterInfo(i), "all");
								if string.lower(name) == string.lower(_name) then
									name = _name;
									IsInRaid = true;
								end
							end
						end
						
						if not IsInGuild and not IsInRaid then
							CEPGP_print("找不到 " .. name .. " 在你的公会或团队中", true);
							return;
						end
						
						local vInfo = {};
						
						for _, data in ipairs(CEPGP_groupVersion) do
							if data[1] == name then
								vInfo = CEPGP_split(data[2], ".");
								break;
							end
						end
						
						if vInfo[3] and "23" > vInfo[3] then
							CEPGP_print(name .. " 正在运行CEPGP的不兼容版本. 它们需要更新，然后才能从中导入设置.", true);
							return;
						end
						
						local request = {};
						local attr;
						
						for i = 1, 9 do
							local frame = _G["ImportCheckButton_" .. i];
							frame:Disable();
							if frame:GetChecked() then
								attr = frame:GetAttribute("varName");
								if attr == "Alt" then
									CEPGP.Alt.Links = {};
									CEPGP_UpdateAltScrollBar();
								end
								if attr == "Overrides" then
									OVERRIDE_INDEX = {};
									CEPGP_UpdateOverrideScrollBar();
								end
								if attr == "Standby" then
									CEPGP_standbyRoster = {};
									CEPGP.Standby.Roster = {};
									CEPGP_UpdateStandbyScrollBar();
								end
								table.insert(request, attr);
							end
						end
						
						local i = 1;
						CEPGP_settings_import_confirm:Disable();
						CEPGP_settings_import_verbose_check:Disable();
						CEPGP_SendAddonMsg("ImportStart", "WHISPER", name);
						CEPGP_print("Starting import - please wait...");
						C_Timer.NewTicker(2, function()
							local message = "Import;" .. request[i];
							if CEPGP_settings_import_verbose_check:GetChecked() then
								CEPGP_print("请求 " .. _G["ImportCheckButton_" .. i .. "_text"]:GetText() .. " 配置");
							end
							CEPGP_SendAddonMsg(message, "WHISPER", name);
							if i == #request then
								CEPGP_SendAddonMsg("ImportEnd", "WHISPER", name);
								CEPGP_settings_import_confirm:Enable();
								CEPGP_settings_import_verbose_check:Enable();
								CEPGP_print("Import Complete");
								for i = 1, 9 do
									local frame = _G["ImportCheckButton_" .. i];
									frame:Enable();
								end
							end
							i = i + 1;
						end, #request);			
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_settings_import_cancel" inherits="GameMenuButtonTemplate" text="取消">
				<Size>
					<AbsDimension x="75" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="CEPGP_settings_import_confirm">
						<Offset>
							<AbsDimension x="-5"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_settings_import_name:SetText("");
						HideUIPanel(CEPGP_settings_import);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="28" y="28" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-6" y="-6" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_settings_import:Hide();
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
				CEPGP_settings_import_desc:SetText("使用此功能可导入其他玩家的CEPGP配置.\n|cFFFF0000警告！这将覆盖所有现有设置！|r\n玩家必须在你的公会或团队中");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				CEPGP_SendAddonMsg("version-check", "GUILD");
				self:SetWidth(CEPGP_settings_import_desc:GetStringWidth()+50);
				local width, height = self:GetWidth(), self:GetHeight();
				local sf = CEPGP_settings_import_sf;
				local container = CEPGP_settings_import_sf_container;
				
				sf:SetWidth(width-40);
				sf:SetHeight(height/2);
				
				container:SetWidth(sf:GetWidth()-20);
				container:SetHeight(sf:GetHeight());
			</OnShow>
			<OnHide>
				CEPGP_settings_import_verbose_check:SetChecked(false);
			</OnHide>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_override" frameStrata="DIALOG" enableMouse="true" parent="UIParent" hidden="true" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="450" y="480"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11"/>
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32"/>
			</TileSize>
			<EdgeSize>
				<AbsValue val="32"/>
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_override_header" inherits="GameFontNormal" text="装备GP值设置">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_override_desc" inherits="GameFontNormal" text=""> <!--Text intentionally left blank here because line breaks can only be added using LUA-->
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_override_item_name_string" inherits="GameFontNormal" text="物品名字">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="85" y="-75"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_override_item_id_string" inherits="GameFontNormal" text="物品ID">
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP">
							<Offset>
								<AbsDimension x="40" y="-75"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_override_item_gp_string" inherits="GameFontNormal" text="GP">
					<Anchors>
						<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
							<Offset>
								<AbsDimension x="-50" y="-75"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<EditBox name="CEPGP_override_item_name" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="175" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_override_item_name_string">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						CEPGP_override_item_gp:SetFocus();
					</OnEnterPressed>
					<OnTabPressed>
						CEPGP_override_item_gp:SetFocus();
					</OnTabPressed>
				</Scripts>
			</EditBox>
			<EditBox name="CEPGP_override_item_id" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="75" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_override_item_id_string">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						CEPGP_override_item_gp:SetFocus();
					</OnEnterPressed>
					<OnTabPressed>
						CEPGP_override_item_gp:SetFocus();
					</OnTabPressed>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("物品ID查询方法，可以安装AtlasLoot插件找到需要添加的装备按住Alt查看该物品Item ID号。\n也可登录各大数据库网站查询。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</EditBox>
			<EditBox name="CEPGP_override_item_gp" inherits="InputBoxTemplate" numeric="true">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_override_item_gp_string">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
						PlaySound(799);
						if CEPGP_override_item_name:GetText() == "" and CEPGP_override_item_id:GetText() == "" then
							CEPGP_print("输入装备名称或ID", true);
							return;
						end
						local gp;
						if CEPGP_override_item_gp:GetText() == "" then
							gp = 0;
						else
							gp = tonumber(CEPGP_override_item_gp:GetText());
						end
						if CEPGP_override_item_name:GetText() ~= "" then
							local item = CEPGP_standardiseString(CEPGP_override_item_name:GetText());
							if (OVERRIDE_INDEX[item] and CEPGP_override_confirm) or not OVERRIDE_INDEX[item] then
								OVERRIDE_INDEX[item] = gp;
								CEPGP_print("该物品/装备 " .. item .. " 的GP值已经更新为 " .. gp);
								CEPGP_UpdateOverrideScrollBar();
								CEPGP_override_confirm = false;
								CEPGP_override_item_name:SetText("");
								CEPGP_override_item_name:ClearFocus();
								CEPGP_override_item_gp:SetText("");
								CEPGP_override_item_gp:ClearFocus();
								return;
							else
								CEPGP_print(item .. " 已覆盖为 " .. OVERRIDE_INDEX[item] .. ". 再次单击“添加”将自身更改为 " .. gp);
								CEPGP_override_confirm = true;
							end
						elseif CEPGP_override_item_id:GetText() ~= "" then
							local id = tonumber(CEPGP_override_item_id:GetText());
							local link = CEPGP_getItemLink(id);
							if not link and CEPGP_itemExists(id) then
								local item = Item:CreateFromItemID(id);
								item:ContinueOnItemLoad(function()
									link = CEPGP_getItemLink(id);
									if (OVERRIDE_INDEX[link] and CEPGP_override_confirm) or not OVERRIDE_INDEX[link] then
										OVERRIDE_INDEX[link] = gp;
										CEPGP_print("该物品/装备 " .. link .. " |c006969FF的GP值已经更新为 " .. gp);
										CEPGP_UpdateOverrideScrollBar();
										CEPGP_override_confirm = false;
										CEPGP_override_item_id:SetText("");
										CEPGP_override_item_id:ClearFocus();
										CEPGP_override_item_name:SetText("");
										CEPGP_override_item_name:ClearFocus();
										CEPGP_override_item_gp:SetText("");
										CEPGP_override_item_gp:ClearFocus();
										return;
									else
										CEPGP_print(link .. " 已被覆盖为 " .. OVERRIDE_INDEX[link] .. "|c006969FF. 再次单击“添加”将自身更改为 " .. gp);
										CEPGP_override_confirm = true;
									end
								end);
							elseif CEPGP_itemExists(id) then
								if (OVERRIDE_INDEX[link] and CEPGP_override_confirm) or not OVERRIDE_INDEX[link] then
									OVERRIDE_INDEX[link] = gp;
									CEPGP_print("该物品/装备 " .. link .. " |c006969FF的GP值已经更新为 " .. gp);
									CEPGP_UpdateOverrideScrollBar();
									CEPGP_override_confirm = false;
									CEPGP_override_item_id:SetText("");
									CEPGP_override_item_id:ClearFocus();
									CEPGP_override_item_name:SetText("");
									CEPGP_override_item_name:ClearFocus();
									CEPGP_override_item_gp:SetText("");
									CEPGP_override_item_gp:ClearFocus();
									return;
								else
									CEPGP_print(link .. " 已被覆盖为 " .. OVERRIDE_INDEX[link] .. "|c006969FF. 再次单击“添加”将自身更改为 " .. gp);
									CEPGP_override_confirm = true;
								end
							else
								CEPGP_print("该装备ID不存在" .. id, true);
							end
						end
					</OnEnterPressed>
					<OnTabPressed>
						CEPGP_override_item_name:SetFocus();
					</OnTabPressed>
				</Scripts>
			</EditBox>
			<Button name="CEPGP_override_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_override:Hide();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_override_confirm" inherits="GameMenuButtonTemplate" text="添加覆盖">
				<Size>
					<AbsDimension x="150" y="30"/>
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="TOP">
						<Offset>
							<AbsDimension x="0" y="-115"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						if CEPGP_override_item_name:GetText() == "" and CEPGP_override_item_id:GetText() == "" then
							CEPGP_print("Enter an item name or ID", true);
							return;
						end
						local gp;
						if CEPGP_override_item_gp:GetText() == "" then
							gp = 0;
						else
							gp = tonumber(CEPGP_override_item_gp:GetText());
						end
						if CEPGP_override_item_name:GetText() ~= "" then
							local item = CEPGP_standardiseString(CEPGP_override_item_name:GetText());
							local _, iString = GetItemInfo(item);
							if iString then item = iString; end
							if (OVERRIDE_INDEX[item] and CEPGP_override_confirm) or not OVERRIDE_INDEX[item] then
								OVERRIDE_INDEX[item] = gp;
								CEPGP.Overrides[item] = gp;
								CEPGP_print("该物品/装备 " .. item .. " 的GP值已经更新为 " .. gp);
								CEPGP_UpdateOverrideScrollBar();
								CEPGP_override_confirm = false;
								CEPGP_override_item_name:SetText("");
								CEPGP_override_item_name:ClearFocus();
								CEPGP_override_item_gp:SetText("");
								CEPGP_override_item_gp:ClearFocus();
								return;
							else
								CEPGP_print(item .. " 已被覆盖为 " .. OVERRIDE_INDEX[item] .. ". 再次单击“添加”将自身更改为 " .. gp);
								CEPGP_override_confirm = true;
							end
						elseif CEPGP_override_item_id:GetText() ~= "" then
							local id = tonumber(CEPGP_override_item_id:GetText());
							local _, link = GetItemInfo(id);
							if not link and CEPGP_itemExists(id) then
								local item = Item:CreateFromItemID(id);
								item:ContinueOnItemLoad(function()
									_, link = GetItemInfo(id);
									if (OVERRIDE_INDEX[link] and CEPGP_override_confirm) or not OVERRIDE_INDEX[link] then
										OVERRIDE_INDEX[link] = gp;
										CEPGP.Overrides[link] = gp;
										CEPGP_print("该物品/装备 " .. link .. " |c006969FF的GP值已经更新为 " .. gp);
										CEPGP_UpdateOverrideScrollBar();
										CEPGP_override_confirm = false;
										CEPGP_override_item_id:SetText("");
										CEPGP_override_item_id:ClearFocus();
										CEPGP_override_item_name:SetText("");
										CEPGP_override_item_name:ClearFocus();
										CEPGP_override_item_gp:SetText("");
										CEPGP_override_item_gp:ClearFocus();
										return;
									else
										CEPGP_print(link .. " 已被覆盖为 " .. OVERRIDE_INDEX[link] .. "|c006969FF. 再次单击“添加”将自身更改为 " .. gp);
										CEPGP_override_confirm = true;
									end
								end);
							elseif CEPGP_itemExists(id) then
								if (OVERRIDE_INDEX[link] and CEPGP_override_confirm) or not OVERRIDE_INDEX[link] then
									OVERRIDE_INDEX[link] = gp;
									CEPGP.Overrides[link] = gp;
									CEPGP_print("该物品/装备 " .. link .. " |c006969FF的GP值已经更新为 " .. gp);
									CEPGP_UpdateOverrideScrollBar();
									CEPGP_override_confirm = false;
									CEPGP_override_item_id:SetText("");
									CEPGP_override_item_id:ClearFocus();
									CEPGP_override_item_name:SetText("");
									CEPGP_override_item_name:ClearFocus();
									CEPGP_override_item_gp:SetText("");
									CEPGP_override_item_gp:ClearFocus();
									return;
								else
									CEPGP_print(link .. " 已被覆盖为 " .. OVERRIDE_INDEX[link] .. "|c006969FF. 再次单击“添加”将自身更改为 " .. gp);
									CEPGP_override_confirm = true;
								end
							else
								CEPGP_print("该装备ID不存在 " .. id, true);
							end
						end
					</OnClick>
					<OnHide>
						CEPGP_override_item_name:SetText("");
						CEPGP_override_item_gp:SetText("");
						CEPGP_override_confirm = false;
					</OnHide>
				</Scripts>
			</Button>
			<ScrollFrame name="OverrideScrollFrame" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="410" y="320" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="7.5" y="7.5"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<Frame name="CEPGP_override_scrollframe_container">
						<Size>
							<AbsDimension x="410" y="300" />
						</Size>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
				CEPGP_override_desc:SetText("此窗口允许您覆盖装备/物品的分配gp值\n\n|c00FF0000注意：仅建议使用装备/物品的Item ID来设置GP值|r");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				CEPGP_UpdateOverrideScrollBar();
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_traffic" frameStrata="HIGH" enableMouse="true" parent="UIParent" hidden="true" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="950" y="480"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11"/>
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32"/>
			</TileSize>
			<EdgeSize>
				<AbsValue val="32"/>
			</EdgeSize>
		</Backdrop>
		<Attributes>
			<Attribute name="page" type="int" value="0" />
		</Attributes>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_traffic_header" inherits="GameFontNormalSmall" text="EPGP详细记录">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_traffic_search_text" inherits="GameFontNormalSmall" text="内容搜索: ">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="15" y="-15"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_traffic_desc" inherits="GameFontNormalSmall" text="公会的EPGP详细记录">
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_traffic_name" inherits="GameFontNormalSmall" text="玩家" />
				<FontString name="CEPGP_traffic_issuer" inherits="GameFontNormalSmall" text="管理者" />
				<FontString name="CEPGP_traffic_action" inherits="GameFontNormalSmall" text="动作" />
				<FontString name="CEPGP_traffic_epb" inherits="GameFontNormalSmall" text="原EP/" />
				<FontString name="CEPGP_traffic_epa" inherits="GameFontNormalSmall" text="现EP" />
				<FontString name="CEPGP_traffic_gpb" inherits="GameFontNormalSmall" text="原GP/" />
				<FontString name="CEPGP_traffic_gpa" inherits="GameFontNormalSmall" text="现GP" />
				<FontString name="$parent_display" inherits="GameFontNormalSmall">
					<Anchors>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
							<AbsDimension x="0" y="-5" />
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<EditBox name="$parent_search" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="225" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_traffic_search_text">
						<AbsDimension x="15" y="0" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
					</OnEscapePressed>
					<OnTextChanged>
						CEPGP_UpdateTrafficScrollBar();
					</OnTextChanged>
				</Scripts>
			</EditBox>
			<Button name="CEPGP_traffic_clear_button" inherits="GameMenuButtonTemplate" text="清除EPGP详情">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="10" y="12" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						if CEPGP_traffic_clear then
							TRAFFIC = {};
							CEPGP_UpdateTrafficScrollBar();
							CEPGP_print("已清除EPGP详细记录");
							CEPGP_traffic_clear = false;
						else
							CEPGP_print("您正在试图清除该条EPGP记录. 此操作无法恢复.");
							CEPGP_print("请再次点击以便清除EPGP记录");
							CEPGP_traffic_clear = true;
						end
					</OnClick>
					<OnHide>
						CEPGP_traffic_clear = false;
					</OnHide>
				</Scripts>
			</Button>
			<Button name="CEPGP_traffic_share" inherits="GameMenuButtonTemplate" text="共享所有记录">
				<Size>
					<AbsDimension x="125" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_traffic_clear_button">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<Texture name="$parent_share_info_texture" file="Interface/TUTORIALFRAME/TutorialFrame-QuestionMark.blp" alphaMode="ADD">
							<Size>
								<AbsDimension x="25" y="25" />
							</Size>
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" />
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Button name="$parent_share_info">
						<Size>
							<AbsDimension x="25" y="25" />
						</Size>
						<Anchors>
							<Anchor point="CENTER" relativePoint="CENTER" relativeTo="$parent_share_info_texture" />
						</Anchors>
						<Scripts>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("|c000077BE为什么我不能共享一些记录？|r\n某些共享的记录无法共享，因为它们缺少在版本1.12.10中添加的信息。\n如果在您（或您的战利品分配者）开始使用此版本之前添加了共享的记录，则无法共享。\n\n无法共享某个共享记录的另一个原因是该项可能包含错误的格式数据。\n避免这种情况的最好方法是确保你和你的战利品分配者正在运行最新版本的CEPGP。\n\n|c00FF0000为什么要这么久？|r\n为了避免断开连接，CEPGP以大约每0.1秒一个日志的速率传输共享项目。你现在有“" .. #TRAFFIC .. " ”项.");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Button>
				</Frames>
				<Scripts>
					<OnClick>
						PlaySound(799);
						local success, failMsg = pcall(function()
							self:Disable();
							local i = #TRAFFIC;
							local limit = #TRAFFIC;
							if CEPGP_Info.SharingTraffic then return; end
							
							CEPGP_Info.SharingTraffic = true;
							CEPGP_SendAddonMsg("CEPGP_TRAFFICSyncStart;"..limit, "GUILD");
							
							CEPGP_print("正在共享所有共享记录，请稍候。这个过程将在10秒后开始。");
							CEPGP_traffic_share_status:SetText("准备发送共享记录");
							C_Timer.After(10, function()
								C_Timer.NewTicker(0.1, function()
									local ID, GUID;
									local player, issuer, action, EPB, EPA, GPB, GPA, itemID, tStamp;
									
									if TRAFFIC[i][9] and TRAFFIC[i][10] and TRAFFIC[i][11] and tonumber(TRAFFIC[i][9]) ~= tonumber(TRAFFIC[i][10]) then
										
										player = TRAFFIC[i][1];
										issuer = TRAFFIC[i][2];
										action = TRAFFIC[i][3];
										EPB = TRAFFIC[i][4] or "";
										EPA = TRAFFIC[i][5] or "";
										GPB = TRAFFIC[i][6] or "";
										GPA = TRAFFIC[i][7] or "";
										itemID = CEPGP_getItemID(CEPGP_getItemString(TRAFFIC[i][8])) or "";
										tStamp = TRAFFIC[i][9];
										ID = TRAFFIC[i][10];
										GUID = TRAFFIC[i][11];
										
										
										local str = player .. ";" .. issuer .. ";" .. action .. ";" .. EPB .. ";" .. EPA .. ";" .. GPB .. ";" .. GPA .. ";" .. itemID .. ";" .. tStamp .. ";" .. ID .. ";" .. GUID;
										if #str > 255 then
											CEPGP_print("无法与该ID共享数据 " .. ID .. " / GUID " .. GUID .. ". 超过字符限制！", true);
											return;
										end
										CEPGP_SendAddonMsg("CEPGP_TRAFFIC;" .. player .. ";" .. issuer .. ";" .. action .. ";" .. EPB .. ";" .. EPA .. ";" .. GPB .. ";" .. GPA .. ";" .. itemID .. ";" .. tStamp .. ";" .. ID .. ";" .. GUID, "GUILD");
										CEPGP_traffic_share_status:SetText(limit-(i-1) .. " 项已发送");
									end
									i = i - 1;
									if i == 1 then
										CEPGP_Info.SharingTraffic = false;
										
										C_Timer.After(5, function()
											CEPGP_SendAddonMsg("CEPGP_TRAFFICSyncStop", "GUILD");
											CEPGP_traffic_share_status:SetText("已完成发送共享记录");
											CEPGP_print("已共享记录");
											self:Enable();
										end);
									end
								end, limit);
							end);
						end);
						
						if not success then
							CEPGP_print("无法共享所有共享记录！", true);
							CEPGP_print(failMsg);
						end
					</OnClick>
				</Scripts>
			</Button>
			<EditBox name="CEPGP_traffic_share_status" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="225" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_traffic_share">
						<AbsDimension x="30" y="0" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
						self:Disable();
					</OnLoad>
				</Scripts>
			</EditBox>
			<Button name="CEPGP_traffic_previous" inherits="GameMenuButtonTemplate">
				<Size>
					<AbsDimension x="115" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_traffic_share_status">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_Info.TrafficScope = math.min(CEPGP_Info.TrafficScope-500, #TRAFFIC);
						CEPGP_UpdateTrafficScrollBar();
						CEPGP_traffic_next:Enable();
						
						if 500 > #TRAFFIC - CEPGP_Info.TrafficScope then
							CEPGP_traffic_next:SetText("下一个");
							CEPGP_traffic_next:Disable();							
						elseif 500 > #TRAFFIC - (CEPGP_Info.TrafficScope+500) then
							CEPGP_traffic_next:SetText("最后 " .. #TRAFFIC - (CEPGP_Info.TrafficScope+500));
						else
							CEPGP_traffic_next:SetText("下一页500项");
						end
						
						if 500 > CEPGP_Info.TrafficScope then
							CEPGP_traffic_previous:SetText("上一个");
							CEPGP_traffic_previous:Disable();
						elseif 500 > CEPGP_Info.TrafficScope - 500 then
							CEPGP_traffic_previous:SetText("首页500项");
						else
							CEPGP_traffic_previous:SetText("前一页500项");
						end
					</OnClick>
					<OnShow>
						if 500 > #TRAFFIC - CEPGP_Info.TrafficScope then
							CEPGP_traffic_next:SetText("下一个");
							CEPGP_traffic_next:Disable();							
						elseif 500 > #TRAFFIC - (CEPGP_Info.TrafficScope+500) then
							CEPGP_traffic_next:SetText("最后 " .. #TRAFFIC - (CEPGP_Info.TrafficScope+500));
						else
							CEPGP_traffic_next:SetText("下一页500项");
						end
						
						if 500 > CEPGP_Info.TrafficScope then
							CEPGP_traffic_previous:SetText("上一个");
							CEPGP_traffic_previous:Disable();
						elseif 500 > CEPGP_Info.TrafficScope - 500 then
							CEPGP_traffic_previous:SetText("首页500项");
						else
							CEPGP_traffic_previous:SetText("前一页500项");
						end
					</OnShow>
				</Scripts>
			</Button>
			<Button name="CEPGP_traffic_next" inherits="GameMenuButtonTemplate">
				<Size>
					<AbsDimension x="115" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_traffic_previous">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_Info.TrafficScope = math.min(CEPGP_Info.TrafficScope+500, #TRAFFIC);
						CEPGP_UpdateTrafficScrollBar();
						CEPGP_traffic_previous:Enable();
						
						local page = CEPGP_traffic:GetAttribute("page");
						CEPGP_traffic:SetAttribute("page", page+1);
						
						if 500 > #TRAFFIC - CEPGP_Info.TrafficScope then
							CEPGP_traffic_next:SetText("下一个");
							CEPGP_traffic_next:Disable();							
						elseif 500 > #TRAFFIC - (CEPGP_Info.TrafficScope+500) then
							CEPGP_traffic_next:SetText("最后 " .. #TRAFFIC - (CEPGP_Info.TrafficScope+500));
						else
							CEPGP_traffic_next:SetText("下一页500项");
						end
						
						if 500 > CEPGP_Info.TrafficScope then
							CEPGP_traffic_previous:SetText("上一个");
							CEPGP_traffic_previous:Disable();
						elseif 500 > CEPGP_Info.TrafficScope - 500 then
							CEPGP_traffic_previous:SetText("首页500项");
						else
							CEPGP_traffic_previous:SetText("前一页500项");
						end
					</OnClick>
					<OnShow>
						if 500 > #TRAFFIC - CEPGP_Info.TrafficScope then
							CEPGP_traffic_next:SetText("下一个");
							CEPGP_traffic_next:Disable();							
						elseif 500 > #TRAFFIC - (CEPGP_Info.TrafficScope+500) then
							CEPGP_traffic_next:SetText("最后 " .. #TRAFFIC - (CEPGP_Info.TrafficScope+500));
						else
							CEPGP_traffic_next:SetText("下一页500项");
						end
						
						if 500 > CEPGP_Info.TrafficScope then
							CEPGP_traffic_previous:SetText("上一个");
							CEPGP_traffic_previous:Disable();
						elseif 500 > CEPGP_Info.TrafficScope - 500 then
							CEPGP_traffic_previous:SetText("首页500项");
						else
							CEPGP_traffic_previous:SetText("前一页500项");
						end
					</OnShow>
				</Scripts>
			</Button>
			
			<Button name="CEPGP_traffic_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						HideUIPanel(CEPGP_traffic);
					</OnClick>
				</Scripts>
			</Button>
			<ScrollFrame name="trafficScrollFrame" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="875" y="320"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="7.5" y="-105"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<Frame name="CEPGP_traffic_scrollframe_container">
						<Size>
							<AbsDimension x="740" y="300" />
						</Size>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
				self:EnableKeyboard(true);
				CEPGP_traffic_name:SetPoint("BOTTOMLEFT", trafficScrollFrame, "TOPLEFT", 7.5, 5);
				CEPGP_traffic_issuer:SetPoint("LEFT", CEPGP_traffic_name, "LEFT", 100, 0);
				CEPGP_traffic_action:SetPoint("LEFT", CEPGP_traffic_issuer, "LEFT", 375, 0);
				CEPGP_traffic_epb:SetPoint("LEFT", CEPGP_traffic_action, "LEFT", 50, 0);
				CEPGP_traffic_epa:SetPoint("LEFT", CEPGP_traffic_epb, "LEFT", 60, 0);
				CEPGP_traffic_gpb:SetPoint("LEFT", CEPGP_traffic_epa, "LEFT", 50, 0);
				CEPGP_traffic_gpa:SetPoint("LEFT", CEPGP_traffic_gpb, "LEFT", 60, 0);
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				CEPGP_UpdateTrafficScrollBar();
			</OnShow>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_debuginfo" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="400" y="250" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_debuginfo_title" inherits="GameFontNormal" text="调试信息">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_debuginfo_text" inherits="GameFontNormal" text="将此字符串复制并粘贴到github报表中">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_debuginfo_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_debuginfo:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<ScrollFrame name="CEPGP_debug_scrollframe" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="350" y="150" />
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="-35" y="-15"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<EditBox name="CEPGP_debuginfo_details" autofocus="false" multiline="true">
						<Size>
							<AbsDimension x="340" y="150" />
						</Size>
						<Anchors>
							<Anchor point="CENTER" />
						</Anchors>
						<FontString inherits="GameFontNormal"/>
						<Scripts>
							<OnLoad>
								self:SetAutoFocus(false);
							</OnLoad>
							<OnEscapePressed>
								self:ClearFocus();
							</OnEscapePressed>
							<OnEnterPressed>
								self:ClearFocus();
							</OnEnterPressed>
							<OnShow>
								self:SetText(CEPGP_getDebugInfo());
							</OnShow>
							<OnEditFocusLost>
								self:HighlightText(0,0);
							</OnEditFocusLost>
						</Scripts>
					</EditBox>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
	</Frame>
	
	<Frame name="CEPGP_notice_frame" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="0" y="350" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_notice_title" inherits="GameFontNormal" text="通知">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_notice_text" inherits="GameFontNormal" text="">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_notice_accept" inherits="GameMenuButtonTemplate" text="知道了！">
				<Size>
					<AbsDimension x="150" y="25" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM">
						<Offset>
							<AbsDimension x="75" y="12" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_notice = true;
						ReloadUI();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_notice_cancel" inherits="GameMenuButtonTemplate" text="不.禁用！">
				<Size>
					<AbsDimension x="150" y="25" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM">
						<Offset>
							<AbsDimension x="-75" y="12" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						DisableAddOn("CEPGP");
						ReloadUI();
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				CEPGP_notice_text:SetText("感谢您选择使用CEPGP！\n我希望你喜欢使用这个插件，我希望它能帮助你的公会\n 你怎么使用它呢？\n\n你只需要知道一件事-使用这个插件\n你需要开启管员备注的查看和修改权限以保存和修改EPGP记录。\n意思是，当这个插件试图维护您的记录时，它将覆盖\n任何现有的官员备注。同样，如果你想让你的公会成员\n能够看到他们的EP和GP值，他们需要能够看到管员备注\n管理者也注意。基本上，插件只能看到你能看到的。\n\n如果您的整个公会（至少您的团队）都安装了它，那么它的使用效果最好。\n插件将为您提供战利品自动分发等功能，并能够查看您分发物品时您的团队成员所穿戴的物品。\n\n我希望您喜欢使用该插件，如果您有任何功能请求或发现错误，请在addon GitHub页面提交一张票证：\n github.com/Alumian/CEPGP-Retail \n如果发现汉化有任何问题，请去NGA论坛怀旧服插件讨论区留言告诉我");
				CEPGP_notice_frame:SetWidth(CEPGP_notice_text:GetStringWidth()+25);
			</OnLoad>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_attendance" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true">
		<size>
			<AbsDimension x="650" y="425" />
		</size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_attendance_title" inherits="GameFontNormal" text="团队出勤">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_attendance_desc" inherits="GameFontNormal" text="出勤摘要">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-25" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_attendance_standby_text" inherits="GameFontNormal" text="替补列表" hidden="true">
					<Anchors>
						<Anchor point="LEFT" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="15" y="-55" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_attendance_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="30" y="30" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-6" y="-6" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_attendance:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_record" inherits="GameMenuButtonTemplate" text="记录出勤">
				<Size>
					<AbsDimension x="125" y="20"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-12" y="12"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_recordAttendance();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("记录当前在您的团队中的玩家的出勤。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_dropdown" inherits="UIDropDownMenuTemplate">
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="-5" y="5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnShow>
						CEPGP_attendanceDropdown();
						UIDropDownMenu_SetWidth(self, 140);
					</OnShow>
					<OnLoad>
						CEPGP_initDropdown(self, CEPGP_attendanceDropdown);
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_record_view" inherits="GameMenuButtonTemplate" text="按快照筛选">
				<Size>
					<AbsDimension x="130" y="20"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_attendance_dropdown">
						<Offset>
							<AbsDimension x="-12" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						if UIDropDownMenu_GetSelectedValue(CEPGP_attendance_dropdown) == nil then
							return;
						end
						if UIDropDownMenu_GetSelectedValue(CEPGP_attendance_dropdown) == 0 then
							CEPGP_snapshot = nil;
							CEPGP_attendance_desc:SetText("出勤摘要");
						else
							CEPGP_snapshot = UIDropDownMenu_GetSelectedValue(CEPGP_attendance_dropdown);
							CEPGP_attendance_desc:SetText("查看出勤: " .. date("%A %d %B, %Y, %H:%M", CEPGP_raid_logs[CEPGP_snapshot][1]));
						end
						CEPGP_UpdateAttendanceScrollBar();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("筛选记录以仅显示所选的出勤记录。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_delete" inherits="GameMenuButtonTemplate" text="删除快照">
				<Size>
					<AbsDimension x="125" y="20"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_attendance_record_view">
						<Offset>
							<AbsDimension x="0" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_deleteAttendance();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("删除下拉菜单中当前选定的快照。\n这可能与您当前查看的快照不同。\n\n|c00FF0000警告：此操作无法撤消！|r");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_name" inherits="CEPGPHeaderButton" text="名字">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="5" y="-55" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(1, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_rank" inherits="CEPGPHeaderButton" text="会阶">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_name" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="50" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(12, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_number" inherits="CEPGPHeaderButton" text="">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_rank" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="85" y="5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetText("活动次数\n出勤率");
					</OnLoad>
					<OnClick>
						CEPGP_setCriteria(12, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_total" inherits="CEPGPHeaderButton" text="记录快照总数:" justifyH="LEFT">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="72.5" y="-10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnShow>
						local total = CEPGP_ntgetn(CEPGP_raid_logs);
						self:SetText("记录的快照总数：: " .. total);
					</OnShow>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_interval_7" inherits="CEPGPHeaderButton" text="7">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_number" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="25" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(5, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_interval_14" inherits="CEPGPHeaderButton" text="14">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_interval_7" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(6, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_interval_30" inherits="CEPGPHeaderButton" text="30">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_interval_14" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(7, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_interval_60" inherits="CEPGPHeaderButton" text="60">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_interval_30" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(8, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_interval_90" inherits="CEPGPHeaderButton" text="90">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="CEPGP_attendance_header_interval_60" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_setCriteria(9, "Attendance");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_attendance_header_interval_days" inherits="CEPGPHeaderButton" text="天">
				<Size>
					<AbsDimension x="50" y="20" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM" relativeTo="CEPGP_attendance_header_interval_30" relativePoint="TOP">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
			</Button>
			<ScrollFrame name="CEPGP_attendance_scrollframe" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="600" y="315"/>
				</Size>
				<Anchors>
					<Anchor point="RIGHT" relativeTo="CEPGP_attendance" relativePoint="RIGHT">
						<Offset>
							<AbsDimension x="-35" y="-20"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<Frame name="CEPGP_attendance_scrollframe_container">
						<Size>
							<AbsDimension x="620" y="315" />
						</Size>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
			<ScrollFrame name="CEPGP_attendance_scrollframe_standby" inherits="UIPanelScrollFrameTemplate" hidden="true">
				<Size>
					<AbsDimension x="600" y="100"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_attendance_standby_text" />
				</Anchors>
				<ScrollChild>
					<Frame name="CEPGP_attendance_scrollframe_standby_container">
						<Size>
							<AbsDimension x="600" y="100" />
						</Size>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Scripts>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_respond" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true">
		<size>
			<AbsDimension x="420" y="150" />
		</size>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture name="CEPGP_respond_texture">
					<Size>
						<AbsDimension x="30" y="30" />
					</Size>
					<Anchors>
						<Anchor point="LEFT">
							<Offset>
								<AbsDimension x="16" y="5" />
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
				<FontString name="CEPGP_respond_title" inherits="GameFontNormal" text="战利品分配">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_respond_item_name" inherits="GameFontNormal">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_respond_texture">
							<Offset>
								<AbsDimension x="10" y="0" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_respond_gp" inherits="GameFontNormal" text="GP">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
							<Offset>
								<AbsDimension x="-30" y="-40" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_respond_gp_value" inherits="GameFontNormal">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_respond_gp">
							<Offset>
								<AbsDimension x="0" y="-12.5" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_respond_timeout_string" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="12.5" y="-12.5" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_respond_texture_frame">
				<Size>
					<AbsDimension x="30" y="30" />
				</Size>
				<Anchors>
					<Anchor point="CENTER" relativeTo="CEPGP_respond_texture" relativePoint="CENTER" />
				</Anchors>
			</Button>
			<Button name="CEPGP_respond_item_name_frame">
				<Size>
					<AbsDimension x="228" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_respond_texture_frame">
						<Offset>
							<AbsDimension x="10" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
			</Button>
			<Button name="CEPGP_respond_1" inherits="GameMenuButtonTemplate" text="">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="7.5" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.LootGUID = CEPGP_Info.LootGUID or "";	<!--	Useful for if the loot master doesn't have the latest version	-->
						CEPGP_SendAddonMsg("LootRsp;1;" .. CEPGP_Info.LootGUID, "RAID");
						CEPGP_respond:Hide();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_respond_2" inherits="GameMenuButtonTemplate" text="">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_respond_1">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.LootGUID = CEPGP_Info.LootGUID or "";
						CEPGP_SendAddonMsg("LootRsp;2;" .. CEPGP_Info.LootGUID, "RAID");
						CEPGP_respond:Hide();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_respond_3" inherits="GameMenuButtonTemplate" text="">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_respond_2">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.LootGUID = CEPGP_Info.LootGUID or "";
						CEPGP_SendAddonMsg("LootRsp;3;" .. CEPGP_Info.LootGUID, "RAID");
						CEPGP_respond:Hide();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_respond_4" inherits="GameMenuButtonTemplate" text="">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_respond_3">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.LootGUID = CEPGP_Info.LootGUID or "";
						CEPGP_SendAddonMsg("LootRsp;4;" .. CEPGP_Info.LootGUID, "RAID");
						CEPGP_respond:Hide();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_respond_pass" inherits="GameMenuButtonTemplate" text="放弃">
				<Size>
					<AbsDimension x="100" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
						<Offset>
							<AbsDimension x="-10" y="-10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.LootGUID = CEPGP_Info.LootGUID or "";
						CEPGP_SendAddonMsg("LootRsp;6;" .. CEPGP_Info.LootGUID, "RAID");
						CEPGP_respond:Hide();
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_export" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="600" y="275" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Attributes>
			<Attribute name="format" type="string" value="CSV" />
		</Attributes>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_export_title" inherits="GameFontNormal" text="导出EPGP">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_export_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_export_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_export:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<ScrollFrame name="CEPGP_export_scrollframe" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="340" y="175"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT">
						<Offset>
							<AbsDimension x="15" y="15"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<EditBox name="CEPGP_export_dump" autofocus="false" multiline="true">
						<Anchors>
							<Anchor point="CENTER" />
						</Anchors>
						<FontString inherits="GameFontNormal"/>
						<Scripts>
							<OnLoad>
								self:SetSize(CEPGP_export_scrollframe:GetSize());
							</OnLoad>
							<OnEscapePressed>
								self:ClearFocus();
							</OnEscapePressed>
							<OnEnterPressed>
								self:ClearFocus();
							</OnEnterPressed>
							<OnEditFocusLost>
								self:HighlightText(0,0);
							</OnEditFocusLost>
						</Scripts>
					</EditBox>
				</ScrollChild>
				<Scripts>
					<OnLoad>
						self:SetScrollChild(CEPGP_export_dump);
					</OnLoad>
				</Scripts>
			</ScrollFrame>
			<Button name="CEPGP_export_csv" inherits="GameMenuButtonTemplate" text="导出CSV格式">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_export_scrollframe">
						<Offset>
							<AbsDimension x="-5" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_export:SetAttribute("format", "CSV");
						CEPGP_formatExport();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("将导出格式更改为CSV");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="CEPGP_export_json" inherits="GameMenuButtonTemplate" text="导出JSON格式">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_export_scrollframe">
						<Offset>
							<AbsDimension x="-5" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_export:SetAttribute("format", "JSON");
						CEPGP_formatExport();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("将导出格式更改为JSON。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="$parent_highlight" inherits="GameMenuButtonTemplate" text="全选导出数据">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_export_csv">
						<Offset>
							<AbsDimension x="0" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_export_dump:HighlightText();
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="CEPGP_export_options">
				<Size>
					<AbsDimension x="200" y="240" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" />
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_export_attr_class" inherits="GameFontNormal" text="职业">
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset>
										<AbsDimension x="0" y="0"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_export_attr_rank" inherits="GameFontNormal" text="会阶">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_export_attr_class">
									<Offset>
										<AbsDimension x="20" y="0"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_export_attr_PR" inherits="GameFontNormal" text="PR值">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_export_attr_rank">
									<Offset>
										<AbsDimension x="20" y="0"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_export_attr_trailing" inherits="GameFontNormal" text="尾随逗号">
							<Anchors>
								<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_export_attr_class">
									<Offset>
										<AbsDimension x="0" y="-30"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<CheckButton name="CEPGP_export_class_check" inherits="UIOptionsCheckButtonTemplate" checked="true">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_export_attr_class">
								<Offset>
									<AbsDimension x="-5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_formatExport();
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("向导出字段添加类。");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</CheckButton>
					<CheckButton name="CEPGP_export_rank_check" inherits="UIOptionsCheckButtonTemplate" checked="true">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_export_attr_rank">
								<Offset>
									<AbsDimension x="-5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_formatExport();
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("将公会等级添加到导出字段。");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</CheckButton>
					<CheckButton name="CEPGP_export_PR_check" inherits="UIOptionsCheckButtonTemplate" checked="true">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_export_attr_PR">
								<Offset>
									<AbsDimension x="-5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_formatExport();
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("为导出字段添加优先级。");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</CheckButton>
					<CheckButton name="CEPGP_export_trailing_check" inherits="UIOptionsCheckButtonTemplate" checked="true">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_export_attr_trailing">
								<Offset>
									<AbsDimension x="-5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_formatExport();
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("在每条记录的末尾添加一个逗号。");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</CheckButton>
				</Frames>
			</Frame>
		</Frames>
		<Scripts>
			<OnShow>
				CEPGP_Info.IgnoreUpdates = true;
				if (GetNumGuildMembers() - CEPGP_Info.NumExcluded) > CEPGP_ntgetn(CEPGP_roster) and CEPGP_Info.Polling then
					CEPGP_export_dump:SetText("正在扫描公会名单。请稍候。。。");
					CEPGP_Info.RosterStack["Export"] = CEPGP_formatExport;
					--table.insert(CEPGP_Info.RosterStack, CEPGP_formatExport);
				else
					CEPGP_formatExport();
				end
			</OnShow>
			<OnHide>
				CEPGP_Info.IgnoreUpdates = false;
			</OnHide>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_confirmation" parent="UIParent" hidden="true" enableMouse="true" toplevel="true" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="300" y="130" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_confirmation_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="CEPGP_confirmation_yes" inherits="GameMenuButtonTemplate" text="是">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="7.5" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.Active[1] = true;
						CEPGP_confirmation:Hide();
						CEPGP_Info.Active[2] = true;
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_confirmation_no" inherits="GameMenuButtonTemplate" text="否">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-7.5" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_Info.Active[1] = false;
						CEPGP_confirmation:Hide();
						CEPGP_Info.Active[2] = true;
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				CEPGP_confirmation_desc:SetText("你想这次团队活动使用CEPGP吗？\n\n|c00FF0000警告！请确认关闭语言过滤器！\n否则将会导致EPGP数据丢失！");
			</OnLoad>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_standby_addRank" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="300" y="200" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_standby_addRank_1" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="25" y="-50"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_2" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_1">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_3" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_2">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_4" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_3">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_5" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_4">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_6" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_1">
							<Offset>
								<AbsDimension x="150" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_7" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_6">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_8" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_7">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_9" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_8">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_standby_addRank_10" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_standby_addRank_9">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="CEPGP_standby_addRank_1_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_1">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_2_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_2">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_3_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_3">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_4_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_4">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_5_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_5">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_6_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_6">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_7_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_7">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_8_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_8">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_9_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_9">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_standby_addRank_10_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_standby_addRank_10">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<Button name="CEPGP_standby_addRank_confirm" inherits="GameMenuButtonTemplate" text="确认">
				<Size>
					<AbsDimension x="100" y="25" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="10" y="25"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_ListButton_OnClick(self:GetName(), button);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_standby_addRank_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_standby_addRank:Hide()
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnShow>
				for i = 1, 10 do
					if GuildControlGetRankName(i) ~= "" then
						_G["CEPGP_standby_addRank_"..i]:Show();
						_G["CEPGP_standby_addRank_"..i.."_check"]:Show();
						_G["CEPGP_standby_addRank_"..i]:SetText(GuildControlGetRankName(i));
					else
						_G["CEPGP_standby_addRank_"..i]:Hide();
						_G["CEPGP_standby_addRank_"..i.."_check"]:Hide();
						_G["CEPGP_standby_addRank_"..i.."_check"]:SetChecked(false);
					end
				end
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_rank_exclude" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="300" y="200" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_rank_exclude_header" inherits="GameFontNormal" text="忽略会阶">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_rank_exclude_desc" inherits="GameFontNormal" text="在EPGP被修改时忽略选中会阶">
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_rank_exclude_header">
							<Offset>
								<AbsDimension x="0" y="-15"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_1" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="25" y="-50"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_2" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_1">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_3" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_2">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_4" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_3">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_5" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_4">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_6" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_1">
							<Offset>
								<AbsDimension x="150" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_7" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_6">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_8" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_7">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_9" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_8">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_exclude_rank_10" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_exclude_rank_9">
							<Offset>
								<AbsDimension x="0" y="-7"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="CEPGP_exclude_rank_1_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_1">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_2_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_2">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_3_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_3">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_4_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_4">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_5_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_5">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_6_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_6">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_7_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_7">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_8_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_8">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_9_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_9">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_exclude_rank_10_check" inherits="UIOptionsCheckButtonTemplate" >
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_exclude_rank_10">
						<Offset>
							<AbsDimension x="80" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
					</OnClick>
				</Scripts>
			</CheckButton>
			<Button name="CEPGP_exclude_rank_confirm" inherits="GameMenuButtonTemplate" text="确认">
				<Size>
					<AbsDimension x="100" y="25" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="10" y="25"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_ListButton_OnClick(self:GetName(), button);
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_exclude_rank_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_rank_exclude:Hide()
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnShow>
				for i = 1, 10 do
					if GuildControlGetRankName(i) ~= "" then
						_G["CEPGP_exclude_rank_"..i]:Show();
						_G["CEPGP_exclude_rank_"..i.."_check"]:Show();
						_G["CEPGP_exclude_rank_"..i]:SetText(GuildControlGetRankName(i));
					else
						_G["CEPGP_exclude_rank_"..i]:Hide();
						_G["CEPGP_exclude_rank_"..i.."_check"]:Hide();
						_G["CEPGP_exclude_rank_"..i.."_check"]:SetChecked(false);
					end
					
					_G["CEPGP_exclude_rank_"..i.."_check"]:SetChecked(CEPGP.Exclusions[i]);
				end
			</OnShow>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_import" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="600" y="275" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Attributes>
			<Attribute name="format" type="string" value="CSV" />
		</Attributes>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="256" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parent_title" inherits="GameFontNormal" text="导入EPGP">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="40" y="40" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-3" y="-3" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_import:Hide()
					</OnClick>
				</Scripts>
			</Button>
			<ScrollFrame name="$parent_scrollframe" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="340" y="175"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="LEFT">
						<Offset>
							<AbsDimension x="15" y="15"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<EditBox name="CEPGP_import_dump" autofocus="false" multiline="true">
						<Anchors>
							<Anchor point="CENTER" />
						</Anchors>
						<FontString inherits="GameFontNormal"/>
						<Layers>
							<Layer level="OVERLAY">
								<FontString name="$parent_clickhere" inherits="GameFontNormal" text="单击此处键入">
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
											<Offset>
												<AbsDimension x="0" y="0"/>
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Scripts>
							<OnLoad>
								self:SetSize(CEPGP_import_scrollframe:GetSize());
							</OnLoad>
							<OnEscapePressed>
								self:ClearFocus();
							</OnEscapePressed>
							<OnEnterPressed>
								self:ClearFocus();
							</OnEnterPressed>
							<OnTextChanged>
								if #self:GetText() > 0 then
									CEPGP_import_dump_clickhere:Hide();
								else
									CEPGP_import_dump_clickhere:Show();
								end
							</OnTextChanged>
							<OnEditFocusLost>
								self:HighlightText(0,0);
							</OnEditFocusLost>
						</Scripts>
					</EditBox>
				</ScrollChild>
				<Scripts>
					<OnLoad>
						self:SetScrollChild(CEPGP_import_dump);
					</OnLoad>
				</Scripts>
			</ScrollFrame>
			<ScrollFrame name="$parent_progress_scrollframe" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="170" y="85"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-35" y="15"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<EditBox name="CEPGP_import_progress_dump" autofocus="false" multiline="true">
						<Anchors>
							<Anchor point="CENTER" />
						</Anchors>
						<FontString inherits="GameFontNormal"/>
						<Scripts>
							<OnLoad>
								self:SetSize(CEPGP_import_progress_scrollframe:GetSize());
								self:Disable();
							</OnLoad>
							<OnEscapePressed>
								self:ClearFocus();
							</OnEscapePressed>
							<OnEnterPressed>
								self:ClearFocus();
							</OnEnterPressed>
						</Scripts>
					</EditBox>
				</ScrollChild>
			</ScrollFrame>
			<Button name="$parent_confirm" inherits="GameMenuButtonTemplate" text="导入EPGP排名">
				<Size>
					<AbsDimension x="150" y="35" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_scrollframe">
						<Offset>
							<AbsDimension x="-5" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_importStandings();
						CEPGP_import_dump:ClearFocus();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("处理提供的CSV字符串并更新您的公会排名。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Frame name="$parent_guide">
				<Size>
					<AbsDimension x="200" y="240" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" />
				</Anchors>
			</Frame>
		</Frames>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_import_guide_text" inherits="GameFontNormal" text="" justifyH="LEFT">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="$parent_scrollframe">
							<Offset>
								<AbsDimension x="40" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				CEPGP_import_guide_text:SetText("将CSV格式的字符串粘贴到\n左边的框中然后单击“导入排行榜”\n按钮确认更改.他希望使用\n的格式是：\n玩家,EP,GP, (包括\n尾随逗号GP).\n\n你的公会排名记录\n将自动保存\n您需要还原更改。");
			</OnLoad>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_roll_award_confirm" parent="UIParent" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true">
		<Size>
			<AbsDimension x="400" y="100" />
		</Size>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Attributes>
			<Attribute name="guid" type="string" value="" />
			<Attribute name="name" type="string" value="" />
		</Attributes>
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="300" y="64"/>
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="12"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parent_title" inherits="GameFontNormal" text="Roll点最高者获得">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_desc" inherits="GameFontNormal">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-30"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_yes" inherits="GameMenuButtonTemplate" text="全价出售">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="7.5" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_roll_award_confirm:Hide();
						CEPGP_award = true;
						CEPGP_rate = 1;
						CEPGP_distribute_popup:SetAttribute("responseName", "Roll点最高者");
						CEPGP_distGP = true;
						CEPGP_distribute_popup_give();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_yes_free" inherits="GameMenuButtonTemplate" text="免费赠送">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOM" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_roll_award_confirm:Hide();
						CEPGP_award = true;
						CEPGP_rate = 1;
						CEPGP_distribute_popup:SetAttribute("responseName", "Roll点最高者(免费赠送)");
						CEPGP_distGP = false;
						CEPGP_distribute_popup_give();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_no" inherits="GameMenuButtonTemplate" text="No">
				<Size>
					<AbsDimension x="100" y="31" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="-7.5" y="10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_roll_award_confirm:Hide();
						CEPGP_distPlayer = "";
						CEPGP_award = false;
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnHide>
				CEPGP_award = false;
			</OnHide>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_changelog" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true">
		<Size y="250" />>
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="$parent_heading" inherits="GameFontNormal" />
				<FontString name="$parent_content" inherits="GameFontNormalSmall" justifyH="LEFT" />
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="30" y="30" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-5" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_changelog:Hide()
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
			<OnShow>
				local heading, content = CEPGP_changelog_heading, CEPGP_changelog_content;
				heading:SetPoint("TOP", 0, -20);
				content:SetPoint("TOPLEFT", 20, -40);
				heading:SetText("Classic EPGP版本 " .. CEPGP_Info.Version .. " " .. CEPGP_Info.Build .. " 更新日志");
				local info = "Bug修复/更改\n- 解决了一个结构性问题，防止某些玩家宣布战利品\n- 解决了旧变量结构和新变量结构之间的同步问题\n- 解决了一个问题，防止Silithid Royalty EP和Auto Award状态更改\n- 修复了初始化问题\n- 尝试执行操作时，玩家不应再错误地收到消息“公会名册正在轮询”\n- 如果团队中的main和alt都位在，则EP奖励不应再加倍\n- 添加了用于调试的CEPGP消息日志用途\n- 添加了异常捕获器";
				content:SetText(info);
				self:SetWidth(content:GetStringWidth()+40);
				self:SetHeight(heading:GetStringHeight() + content:GetStringHeight() + 50);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_license" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true">
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<Color r="0" g="0" b="0" />
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="$parent_heading" inherits="GameFontNormal" text="Classic EPGP最终用户许可协议"/>
				<FontString name="$parent_content" inherits="GameFontNormalSmall" justifyH="LEFT"/>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="30" y="30" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-5" y="-5" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_license:Hide()
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
			</OnMouseUp>
			<OnShow>
				local heading, content = CEPGP_license_heading, CEPGP_license_content;
				heading:SetPoint("TOP", 0, -20);
				content:SetPoint("TOPLEFT", 20, -40);
				local info = "此插件的内容，不包括第三方资源，版权归作者所有，保留所有权利。\n\n定义：\n1. \"软件\"指CEPGP（Classic EPGP）。\n2. \"依赖代码\" 是指将CEPGP作为依赖项列在AddOn.toc（目录）中的文件。\n\n此插件的作者授予您以下权利：:\n\n1. 您可以下载此插件并将其作为魔兽世界的插件运行。\n2. 您可以修改本软件仅供私人使用，不得发布或分发本软件的任何修改部分。\n3. 您可以生成独立的插件，这些插件将本软件用作从属代码，用于：\n    a. 使用软件提供的功能或\n    b. 修改软件的行为\n4. 不要修改此加载项的名称，包括加载项文件夹。\n5. 此版权声明应包含在软件的所有副本或主要部分中。\n\n版权持有人保留本许可证中未明确提及的所有权利。\n\n使用本软件即表示您理解并同意上述条款和条件。";
				content:SetText(info);
				self:SetWidth(content:GetStringWidth()+40);
				self:SetHeight(heading:GetStringHeight() + content:GetStringHeight() + 50);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_raid_modifiers" hidden="true" enableMouse="true" frameStrata="DIALOG" movable="true" clampedToScreen="true">
		<Size x="300" y="350" />
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11"/>
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32"/>
			</TileSize>
			<EdgeSize>
				<AbsValue val="32"/>
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="$parent_heading" inherits="GameFontNormalLarge" text="全版本装备GP修正">
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP" x="0" y="-15" />
					</Anchors>
				</FontString>
				<FontString name="$parent_description" inherits="GameFontNormalSmall">
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_heading" y="-10" />
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_close" inherits="UIPanelCloseButton">
				<Size>
					<AbsDimension x="28" y="28" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
							<AbsDimension x="-6" y="-6" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_raid_modifiers:Hide();
					</OnClick>
				</Scripts>
			</Button>
			<EditBox name="$parent_Molten Core" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="25" y="-100" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="Molten Core" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_value" inherits="GameFontNormalSmall" text="% 正常值的">
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeTo="$parent" x="-5" y="0" />
							</Anchors>
						</FontString>
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="熔火之心">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_Naxxramas"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_Onyxia's Lair"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_Onyxia's Lair" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_Molten Core" y="-10" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="Onyxia's Lair" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="奥妮克希亚">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_Molten Core"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_Blackwing Lair"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_Blackwing Lair" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_Onyxia's Lair" y="-10" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="Blackwing Lair" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="黑翼之巢">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_Onyxia's Lair"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_Zul'Gurub"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_Zul'Gurub" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_Blackwing Lair" y="-10" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="Zul'Gurub" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="祖尔格拉布">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_Blackwing Lair"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_The Ruins of Ahn'Qiraj"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_The Ruins of Ahn'Qiraj" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_Zul'Gurub" y="-10" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="The Ruins of Ahn'Qiraj" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="安其拉废墟">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_Zul'Gurub"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_The Temple of Ahn'Qiraj"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_The Temple of Ahn'Qiraj" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_The Ruins of Ahn'Qiraj" y="-10" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="The Temple of Ahn'Qiraj" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="安其拉">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_The Ruins of Ahn'Qiraj"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_Naxxramas"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_Naxxramas" inherits="InputBoxTemplate">
				<Size x="50" y="15" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_The Temple of Ahn'Qiraj" y="-10" />
				</Anchors>
				<Attributes>
					<Attribute name="raid" type="string" value="Naxxramas" />
				</Attributes>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_string" inherits="GameFontNormalSmall" text="纳克萨玛斯">
							<Anchors>
								<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent" x="10" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnShow>
						local raid = self:GetAttribute("raid");
						local amount = CEPGP.GP.RaidModifiers[raid];
						_G[self:GetName() .. "_string"]:SetText(raid);
						self:SetText(CEPGP.GP.RaidModifiers[raid]);
					</OnShow>
					<OnEnterPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
						self:HighlightText(0,0);
					</OnEscapePressed>
					<OnTabPressed>
						self:ClearFocus();
						self:HighlightText(0,0);
						
						if IsShiftKeyDown() then
							_G["CEPGP_raid_modifiers_The Temple of Ahn'Qiraj"]:SetFocus(true);
						else
							_G["CEPGP_raid_modifiers_Molten Core"]:SetFocus(true);
						end
					</OnTabPressed>
					<OnEditFocusLost>
						local raid = self:GetAttribute("raid");
						local value = self:GetText();
						local default = CEPGP.GP.RaidModifiers[raid];
						
						if string.find(value, '[^-0-9.]') then
							self:SetText(default);
							return;
						end
						
						if value == default then
							return;
						end
						
						CEPGP.GP.RaidModifiers[raid] = tonumber(value);
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnShow>
				local desc = "更改这些数字来调整\n所有副本BOSS掉落装备的GP值标准\n适应不同难度副本和装备GP值不符的情况";
				_G[self:GetName() .. "_description"]:SetText(desc);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_interface_options" hidden="true">
		<Anchors>
			<Anchor point="TOPRIGHT" />
		</Anchors>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="$parent_version" inherits="GameFontNormalLarge" text="">
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP">
							<AbsDimension x="0" y="-10" />
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_author" inherits="GameFontNormalSmall" text="作者: Alumian 汉化版:五区 赫洛德 《Soul》友情翻译">
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_version">
							<AbsDimension x="0" y="-10" />
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_force_sync" inherits="GameFontNormal" text="允许会阶远程管理CEPGP配置:" />
				<FontString name="$parent_def_channel_text" inherits="GameFontNormal" text="EPGP操作报告频道:" />
				<FontString name="$parent_poll_rate_text" inherits="GameFontNormal" text="公会/团队名单获取刷新速度:" />
				<FontString name="$parent_decay_independent_text" inherits="GameFontNormal" text="单独衰减EP和GP:" />
				<Texture name="$parent_poll_rate_info_texture" file="Interface/TUTORIALFRAME/TutorialFrame-QuestionMark.blp" alphaMode="ADD">
					<Size>
						<AbsDimension x="25" y="25" />
					</Size>
					<Anchors>
						<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_poll_rate_text" />
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_changelog" inherits="GameMenuButtonTemplate" text="查看更新日志">
				<Size x="125" y="21" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="10" y="-10" />
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_changelog:Show();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_license" inherits="GameMenuButtonTemplate" text="查看用户许可">
				<Size x="125" y="21" />
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_interface_options_changelog" />
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_license:Show();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_exclusions" inherits="GameMenuButtonTemplate" text="忽略会阶">
				<Size>
					<AbsDimension x="125" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
						<Offset>
							<AbsDimension x="-10" y="-10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_rank_exclude:Show();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("从EPGP修改中排除某些会阶");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="$parent_import" inherits="GameMenuButtonTemplate" text="导入设置">
				<Size>
					<AbsDimension x="125" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="$parent_exclusions" />
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						ShowUIPanel(CEPGP_settings_import);
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("从公会成员导入CEPGP配置，覆盖你自己的设置。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
					<OnShow>
						CEPGP_interface_options_force_sync:SetPoint("BOTTOMLEFT", "CEPGP_interface_options", "BOTTOMLEFT", 10, 10);
					</OnShow>
				</Scripts>
			</Button>
			<CheckButton name="$parent_forced_sync_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_force_sync" x="5" />
				</Anchors>
				<Scripts>
					<OnClick>
						if self:GetChecked() then
							CEPGP_interface_options_forced_sync_rank:Show();
							CEPGP_interface_options_force_sync_button:Show();
							ALLOW_FORCED_SYNC = true;
							CEPGP.Sync[1] = true;
							CEPGP_print("启用远程配置管理");
						else
							CEPGP_interface_options_forced_sync_rank:Hide();
							CEPGP_interface_options_force_sync_button:Hide();
							ALLOW_FORCED_SYNC = false;
							CEPGP.Sync[1] = false;
							CEPGP_print("禁用远程配置管理");
						end
					</OnClick>
				</Scripts>
			</CheckButton>
			<Button name="$parent_forced_sync_rank" inherits="UIDropDownMenuTemplate">
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_forced_sync_check" x="-5" />
				</Anchors>
				<Scripts>
					<OnShow>
						UIDropDownMenu_SetWidth(self, 140);
						CEPGP_syncRankDropdown();
					</OnShow>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("允许该会阶的玩家 " .. (CEPGP_force_sync_rank > 1 and GuildControlGetRankName(CEPGP_force_sync_rank) .. " 或更高会阶" or GuildControlGetRankName(CEPGP_force_sync_rank)) .. " 管理你的CEPGP配置。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
					<OnLoad>
						CEPGP_initDropdown(self, CEPGP_syncRankDropdown);
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="$parent_force_sync_button" inherits="GameMenuButtonTemplate">
				<Size y="21" />
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_forced_sync_rank" x="-5" />
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="$parent_text" inherits="GameFontNormal" text="发送配置">
							<Anchors>
								<Anchor point="CENTER" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnClick>
						PlaySound(799);
						local options = {"Alt", "Channel", "Decay", "EP", "GP", "Loot", "LootChannel", "Overrides", "Standby"};
						
						local i = 1;
						self:Disable();
						CEPGP_settings_import_confirm:Disable();
						CEPGP_SendAddonMsg("SyncStart", "GUILD");
						CEPGP_print("正在向公会成员发送配置-请稍候。。。");
						C_Timer.NewTicker(2, function()
							local continue = CEPGP_ExportConfig(options[i]);
							if i == #options then
								CEPGP_SendAddonMsg("SyncEnd", "GUILD");
								self:Enable();
								CEPGP_settings_import_confirm:Enable();
								CEPGP_print("Configuration sent successfully");
							end
							i = i + 1;
						end, #options)
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("将您的CEPGP配置发送到启用了“远程配置管理”的公会成员。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="$parent_def_channel_dropdown" inherits="UIDropDownMenuTemplate">
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_def_channel_text" />
				</Anchors>
				<Scripts>
					<OnShow>
						UIDropDownMenu_SetWidth(self, 140);
						CEPGP_defChannelDropdown();
					</OnShow>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("设置EPGP修改发送到的频道。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
					<OnLoad>
						CEPGP_initDropdown(self, CEPGP_defChannelDropdown);
					</OnLoad>
				</Scripts>
			</Button>
			<Button name="$parent_poll_rate_info">
				<Size>
					<AbsDimension x="25" y="25" />
				</Size>
				<Anchors>
					<Anchor point="CENTER" relativePoint="CENTER" relativeTo="$parent_poll_rate_info_texture" />
				</Anchors>
				<Scripts>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("设置CEPGP扫描公会和团队名单以获取更新的速度（秒）。默认值为0.0001。\n这不会更改扫描成员名单的频率，但会更改每次更新时扫描名单的速度。\n\n|c00FF0000警告！\n将刷新速率设置得太快可能会导致小而频繁的延迟峰值。\n在防止稳定性问题方面，此设置允许的最小值为0.0001。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<EditBox name="$parent_poll_rate" inherits="InputBoxTemplate" autofocus="false">
				<Size>
					<AbsDimension x="60" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_poll_rate_text">
						<AbsDimension x="40" y="0" />
					</Anchor>
				</Anchors>
				<Scripts>
					<OnEnterPressed>
						self:ClearFocus()
					</OnEnterPressed>
					<OnEscapePressed>
						self:ClearFocus();
					</OnEscapePressed>
					<OnEditFocusLost>
						local value = self:GetText();
						
						if #value == 0 then
							self:SetText(CEPGP.PollRate);
							return;
						end
						
						if string.find(value, '[^0-9.]') then
							CEPGP_print("输入有效数字", true);
							self:SetText(CEPGP.PollRate);
							return;
						end
						
						if value == "." then
							self:SetText(CEPGP.PollRate);
							return;
						end
						
						value = tonumber(value);
						
						if 0.0001 > tonumber(value) then
							CEPGP_print("请输入更新秒数 " .. value, true);
							self:SetText(CEPGP.PollRate);
							return;
						end
						
						CEPGP.PollRate = tonumber(value);
						CEPGP_Info.Polling = false;
						CEPGP_rosterUpdate("GUILD_ROSTER_UPDATE");
						CEPGP_print("更新名单刷新率");
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<CheckButton name="$parent_decay_independent_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_decay_independent_text">
						<Offset>
							<AbsDimension x="-5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if self:GetChecked() then
							CEPGP.Decay.Separate = true;
							CEPGP_guild_decay_EP:Show();
							CEPGP_guild_decay_GP:Show();
							CEPGP_guild_decay:Hide();
							
							CEPGP_print("EP和GP现在可以单独衰变");
						else
							CEPGP.Decay.Separate = false;
							CEPGP_guild_decay_EP:Hide();
							CEPGP_guild_decay_GP:Hide();
							CEPGP_guild_decay:Show();
							
							CEPGP_print("EP和GP现在将同时衰变");
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("允许您单独衰变EP和GP。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
					<OnShow>
						self:SetChecked(CEPGP.Decay.Separate);
					</OnShow>
				</Scripts>
			</CheckButton>
		</Frames>
		<Scripts>
			<OnShow>
				local frame = self:GetName();
				
				_G[frame .. "_force_sync"]:SetPoint("BOTTOMLEFT", self, "BOTTOMLEFT", 10, 20);
				_G[frame .. "_def_channel_text"]:SetPoint("BOTTOMLEFT", _G[frame.."_force_sync"], "TOPLEFT", 0, 20);
				_G[frame .. "_poll_rate_text"]:SetPoint("BOTTOMLEFT", _G[frame.."_def_channel_text"], "TOPLEFT", 0, 20);
				_G[frame .. "_decay_independent_text"]:SetPoint("BOTTOMLEFT", _G[frame.."_poll_rate_text"], "TOPLEFT", 0, 20);
				
				_G[frame .. "_forced_sync_check"]:SetChecked(CEPGP.Sync[1]);
				_G[frame .. "_force_sync_button"]:SetWidth(_G[frame .. "_force_sync_button_text"]:GetStringWidth()+20);
				_G[frame .. "_force_sync_button"]:SetHeight(_G[frame .. "_force_sync_button_text"]:GetStringHeight()+10);
				if CEPGP.Sync[1] then
					_G[frame .. "_forced_sync_rank"]:Show();
					_G[frame .. "_force_sync_button"]:Show();
				else
					_G[frame .. "_forced_sync_rank"]:Hide();
					_G[frame .. "_force_sync_button"]:Hide();
				end
				
				
				_G[frame .. "_poll_rate"]:SetText(CEPGP.PollRate);	
			</OnShow>
		</Scripts>
	</Frame>

	<Frame name="CEPGP_options_alt_mangement" hidden="true">
		<Frames>
			<ScrollFrame name="$parent_ScrollFrame" inherits="UIPanelScrollFrameTemplate">
				<Size>
					<AbsDimension x="550" y="300" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
						<Offset>
							<AbsDimension x="5" y="-100"/>
						</Offset>
					</Anchor>
				</Anchors>
				<ScrollChild>
					<Frame name="$parent_Container">
						<Size>
							<AbsDimension x="550" y="300" />
						</Size>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
			<EditBox name="$parent_main_link" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_ScrollFrame">
						<Offset>
							<AbsDimension x="0" y="-30" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("指定同步角色的大号Main");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
					<OnTabPressed>
						CEPGP_options_alt_mangement_alt_link:SetFocus();
					</OnTabPressed>
					<OnEnterPressed>
						CEPGP_options_alt_mangement_alt_link:SetFocus();
					</OnEnterPressed>
				</Scripts>
			</EditBox>
			<EditBox name="$parent_alt_link" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_main_link">
						<Offset>
							<AbsDimension x="50" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("指定同步角色的小号Alt");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
					<OnTabPressed>
						CEPGP_options_alt_mangement_main_link:SetFocus();
					</OnTabPressed>
				</Scripts>
			</EditBox>
			<Button name="$parent_add_link" inherits="GameMenuButtonTemplate" text="添加角色关联">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_alt_link">
						<Offset>
							<AbsDimension x="50" y="21" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						local main = CEPGP_options_alt_mangement_main_link:GetText();
						local alt = CEPGP_options_alt_mangement_alt_link:GetText();
						
						if #main == 0 or #alt == 0 then return; end
						
						local mainIndex = CEPGP_getIndex(main);
						local altIndex = CEPGP_getIndex(alt);
						
						if not mainIndex then
							CEPGP_print(main .. " 不是公会成员", true);
							return;
						end
						
						if not altIndex then
							CEPGP_print(alt .. " 不是公会成员", true);
							return;
						end
						
						main = Ambiguate(GetGuildRosterInfo(mainIndex), "all");
						alt = Ambiguate(GetGuildRosterInfo(altIndex), "all");
						
						CEPGP_options_alt_mangement_main_link:SetText(main);
						CEPGP_options_alt_mangement_alt_link:SetText(alt);
						
						if main == alt then
							return;
						end
						
						PlaySound(799);
						CEPGP_addCharacterLink(main, alt);
						CEPGP_options_alt_mangement_main_link:ClearFocus();
						CEPGP_options_alt_mangement_alt_link:SetFocus();
						CEPGP_UpdateAltScrollBar();
					</OnClick>
					<OnEnter>
						GameTooltip:Show();
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("将小号alt绑定到主号main上。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="$parent_remove_link" inherits="GameMenuButtonTemplate" text="删除角色关联">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_alt_link">
						<Offset>
							<AbsDimension x="50" y="-1" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						local main = CEPGP_options_alt_mangement_main_link:GetText();
						local alt = CEPGP_options_alt_mangement_alt_link:GetText();
						
						if #main == 0 or #alt == 0 then return; end
						
						for k, v in pairs(CEPGP.Alt.Links) do
							if string.lower(main) == string.lower(k) then
								main = k;
								for _, a in pairs(CEPGP.Alt.Links[main]) do
									if string.lower(alt) == string.lower(a) then
										alt = a;
									end
								end
								break;
							end
						end
						
						if main == alt then
							return;
						end
						
						PlaySound(799);
						CEPGP_removeCharacterLink(main, alt);
						CEPGP_options_alt_mangement_main_link:ClearFocus();
						CEPGP_options_alt_mangement_alt_link:ClearFocus();
						CEPGP_UpdateAltScrollBar();
					</OnClick>
					<OnEnter>
						GameTooltip:Show();
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("从主号Main解除小号alt同步。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="$parent_remove_main" inherits="GameMenuButtonTemplate" text="删除主要角色">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_remove_link" />
				</Anchors>
				<Scripts>
					<OnClick>
						local main = CEPGP_options_alt_mangement_main_link:GetText();
						
						if #main == 0 then return; end
						
						for k, v in pairs(CEPGP.Alt.Links) do
							if string.lower(main) == string.lower(k) then
								main = k;
							end
						end
						
						PlaySound(799);
						CEPGP_removeCharacterLink(main);
						CEPGP_options_alt_mangement_main_link:ClearFocus();
						CEPGP_options_alt_mangement_alt_link:ClearFocus();
						CEPGP_UpdateAltScrollBar();
					</OnClick>
					<OnEnter>
						GameTooltip:Show();
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("从列表中删除一个绑定的主号Main并释放所有附加的小号alt。\n若要使用此选项，请确保只输入一个主号Main的ID并将小号留空。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="$parent_clear_fields" inherits="GameMenuButtonTemplate" text="清除输入框内容">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_remove_main" />
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_options_alt_mangement_main_link:SetText("");
						CEPGP_options_alt_mangement_alt_link:SetText("");
					</OnClick>
				</Scripts>
			</Button>
			<CheckButton name="$parent_block_awarding" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="$parent_alt_link">
						<Offset>
							<AbsDimension x="5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if self:GetChecked() then
							CEPGP.Alt.BlockAwards = true;
							CEPGP_print("小号Alt不能再直接获取EPGP");
						else
							CEPGP.Alt.BlockAwards = false;
							CEPGP_print("小号Alt可以直接获取EPGP");
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("在同步管理中阻止小号Alt的EPGP获取和修改，只作为大号Main的备份使用。启用后，同步管理唯一可以\n改变其EPGP积分的方式是指在对公会EPGP进行衰减和膨胀或重置发生时会有变化");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
					<OnShow>
						if CEPGP.Alt.BlockAwards then
							self:SetChecked(true);
						else
							self:SetChecked(false);
						end
					</OnShow>
				</Scripts>
			</CheckButton>
			<CheckButton name="$parent_sync_ep" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_block_awarding">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if self:GetChecked() then
							CEPGP.Alt.SyncEP = true;
							CEPGP_print("已启用小号Alt同步EP");
						else
							CEPGP.Alt.SyncEP = false;
							CEPGP_print("已关闭小号Alt同步EP");
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("启用后，主号Main和小号Alt可以同步EP");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
					<OnShow>
						if CEPGP.Alt.SyncEP then
							self:SetChecked(true);
						else
							self:SetChecked(false);
						end
					</OnShow>
				</Scripts>
			</CheckButton>
			<CheckButton name="$parent_sync_gp" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_sync_ep">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if self:GetChecked() then
							CEPGP.Alt.SyncGP = true;
							CEPGP_print("已启用小号Alt同步GP");
						else
							CEPGP.Alt.SyncGP = false;
							CEPGP_print("已关闭小号Alt同步GP");
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("启用后，主号Main和小号Alt可以同步GP");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
					<OnShow>
						if CEPGP.Alt.SyncGP then
							self:SetChecked(true);
						else
							self:SetChecked(false);
						end
					</OnShow>
				</Scripts>
			</CheckButton>
		</Frames>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="$parent_header" inherits="GameFontNormalLarge" text="多角色EPGP同步管理">
					<Anchors>
						<Anchor point="CENTER" relativePoint="TOP">
							<AbsDimension x="0" y="-20" />
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_desc" inherits="GameFontNormal" text="">
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parent_header">
							<AbsDimension x="0" y="-20" />
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_main_name" inherits="GameFontNormal" text="主号Mains">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeTo="$parent_ScrollFrame" />
					</Anchors>
				</FontString>
				<FontString name="$parent_alt_name" inherits="GameFontNormal" text="小号Alts">
					<Anchors>
						<Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" relativeTo="$parent_ScrollFrame" />
					</Anchors>
				</FontString>
				<FontString name="$parent_new_link" inherits="GameFontNormal" text="添加/删除角色关联">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_ScrollFrame" />
					</Anchors>
				</FontString>
				<FontString name="$parent_new_main" inherits="GameFontNormal" text="主号Main">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeTo="$parent_main_link" />
					</Anchors>
				</FontString>
				<FontString name="$parent_new_alt" inherits="GameFontNormal" text="小号Alt">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeTo="$parent_alt_link" />
					</Anchors>
				</FontString>
				<FontString name="$parent_block_awarding_text" inherits="GameFontNormal" text="阻止关联角色EPGP同步">
					<Anchors>
						<Anchor point="LEFT" relativePoint="LEFT" relativeTo="$parent_block_awarding">
							<AbsDimension x="-325" y="0" />
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_sync_ep_text" inherits="GameFontNormal" text="与小号Alt同步EP">
					<Anchors>
						<Anchor point="LEFT" relativePoint="LEFT" relativeTo="$parent_sync_ep">
							<AbsDimension x="-325" y="0" />
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_sync_gp_text" inherits="GameFontNormal" text="与小号Alt同步GP">
					<Anchors>
						<Anchor point="LEFT" relativePoint="LEFT" relativeTo="$parent_sync_gp">
							<AbsDimension x="-325" y="0" />
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnShow>
				local frame = self:GetName();
				CEPGP_UpdateAltScrollBar();
				CEPGP_options_alt_mangement_desc:SetText("连接主号Main和小号Alt");
				
				_G[frame .. "_block_awarding"]:SetChecked(CEPGP.Alt.BlockAwards);
				_G[frame .. "_sync_ep"]:SetChecked(CEPGP.Alt.SyncEP);
				_G[frame .. "_sync_gp"]:SetChecked(CEPGP.Alt.SyncGP);
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_EP_options" hidden="true">
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="$parent_header" inherits="GameFontNormalLarge" text="EP自动奖励管理">
					<Anchors>
						<Anchor point="CENTER" relativePoint="TOP">
							<AbsDimension x="0" y="-20" />
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_autoaward_header" inherits="GameFontNormal" text="自动奖励">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
							<Offset>
								<AbsDimension x="-25" y="-120" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_EP_header" inherits="GameFontNormal" text="EP">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="$parent_autoaward_header">
							<Offset>
								<AbsDimension x="-40" y="0" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_mc_button" inherits="GameMenuButtonTemplate" text="熔火之心/奥妮克希亚">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="10" y="-40" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);								
						CEPGP_toggleBossConfigFrame("CEPGP_EP_options_mc");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_bwl_button" inherits="GameMenuButtonTemplate" text="黑翼之巢">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeto="$parent_header">
						<Offset>
							<AbsDimension x="0" y="-10" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);								
						CEPGP_toggleBossConfigFrame("CEPGP_EP_options_bwl");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_zg_button" inherits="GameMenuButtonTemplate" text="祖尔格拉布">
				<Size>
					<AbsDimension x="100" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
						<Offset>
							<AbsDimension x="-40" y="-40" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);								
						CEPGP_toggleBossConfigFrame("CEPGP_EP_options_zg");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_aq20_button" inherits="GameMenuButtonTemplate" text="安其拉废墟">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeTo="$parent_mc_button" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);								
						CEPGP_toggleBossConfigFrame("CEPGP_EP_options_aq20");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_aq40_button" inherits="GameMenuButtonTemplate" text="安其拉">
				<Size>
					<AbsDimension x="175" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeTo="$parent_bwl_button" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);								
						CEPGP_toggleBossConfigFrame("CEPGP_EP_options_aq40");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_naxx_button" inherits="GameMenuButtonTemplate" text="纳克萨玛斯">
				<Size>
					<AbsDimension x="100" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeTo="$parent_zg_button" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);								
						CEPGP_toggleBossConfigFrame("CEPGP_EP_options_naxx");
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parent_world_button" inherits="GameMenuButtonTemplate" text="世界Boss">
				<Size>
					<AbsDimension x="150" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeTo="$parent_aq40_button" relativePoint="BOTTOM">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);								
						CEPGP_toggleBossConfigFrame("CEPGP_EP_options_worldboss");
					</OnClick>
				</Scripts>
			</Button>
			<Frame name="$parent_mc" enableMouse="true" toplevel="true" hidden="true">
				<Size>
					<AbsDimension x="390" y="300" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-100" />
						</Offset>
					</Anchor>
				</Anchors>
				<Frames>
					<CheckButton name="CEPGP_options_Lucifron_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
								<AbsDimension x="0" y="-10" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Magmadar_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Lucifron_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Gehennas_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Magmadar_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Garr_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gehennas_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Baron Geddon_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Garr_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Shazzrah_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Baron Geddon_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Sulfuron Harbinger_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Shazzrah_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Golemagg the Incinerator_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Sulfuron Harbinger_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Majordomo Executus_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Golemagg the Incinerator_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Ragnaros_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Majordomo Executus_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Onyxia_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ragnaros_auto_check">
								<AbsDimension x="0" y="-27.5" />
							</Anchor>
						</Anchors>
					</CheckButton>
					
					<EditBox name="CEPGP_options_Lucifron_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
								<AbsDimension x="0" y="-15" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Magmadar_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Lucifron_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Gehennas_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Magmadar_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Garr_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gehennas_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Baron Geddon_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Garr_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Shazzrah_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Baron Geddon_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Sulfuron Harbinger_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Shazzrah_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Golemagg the Incinerator_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Sulfuron Harbinger_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Majordomo Executus_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Golemagg the Incinerator_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Ragnaros_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Majordomo Executus_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Onyxia_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ragnaros_EP_value">
								<AbsDimension x="0" y="-40" />
							</Anchor>
						</Anchors>
					</EditBox>
				</Frames>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_options_Lucifron_val" inherits="GameFontNormal" parentArray="bosses" text="Lucifron">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_Lucifron_EP_value">
									<Offset>
										<AbsDimension x="-400" y="0" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Magmadar_val" inherits="GameFontNormal" parentArray="bosses" text="Magmadar">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Lucifron_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Gehennas_val" inherits="GameFontNormal" parentArray="bosses" text="Gehennas">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Magmadar_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Garr_val" inherits="GameFontNormal" parentArray="bosses" text="Garr">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Gehennas_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Baron Geddon_val" inherits="GameFontNormal" parentArray="bosses" text="Baron Geddon">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Garr_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Shazzrah_val" inherits="GameFontNormal" parentArray="bosses" text="Shazzrah">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Baron Geddon_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Sulfuron Harbinger_val" inherits="GameFontNormal" parentArray="bosses" text="Sulfuron Harbinger">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Shazzrah_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Golemagg the Incinerator_val" inherits="GameFontNormal" parentArray="bosses" text="Golemagg the Incinerator">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Sulfuron Harbinger_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Majordomo Executus_val" inherits="GameFontNormal" parentArray="bosses" text="Majordomo Executus">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Golemagg the Incinerator_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Ragnaros_val" inherits="GameFontNormal" parentArray="bosses" text="Ragnaros">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Majordomo Executus_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Onyxia_val" inherits="GameFontNormal" parentArray="bosses" text="Onyxia">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Ragnaros_val">
									<Offset>
										<AbsDimension x="0" y="-40" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="$parent_bwl" enableMouse="true" toplevel="true" hidden="true">
				<Size>
					<AbsDimension x="390" y="300" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-100" />
						</Offset>
					</Anchor>
				</Anchors>
				<Frames>
					<CheckButton name="CEPGP_options_Razorgore the Untamed_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
								<AbsDimension x="0" y="-10" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Vaelastrasz the Corrupt_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Razorgore the Untamed_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Broodlord Lashlayer_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Vaelastrasz the Corrupt_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Firemaw_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Broodlord Lashlayer_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Ebonroc_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Firemaw_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Flamegor_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ebonroc_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Chromaggus_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Flamegor_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Nefarian_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Chromaggus_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					
					<EditBox name="CEPGP_options_Razorgore the Untamed_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
								<AbsDimension x="0" y="-15" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Vaelastrasz the Corrupt_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Razorgore the Untamed_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Broodlord Lashlayer_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Vaelastrasz the Corrupt_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Firemaw_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Broodlord Lashlayer_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Ebonroc_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Firemaw_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Flamegor_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ebonroc_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Chromaggus_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Flamegor_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Nefarian_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Chromaggus_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
				</Frames>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_options_Razorgore the Untamed_val" inherits="GameFontNormal" parentArray="bosses" text="Razorgore the Untamed">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_Razorgore the Untamed_EP_value">
									<Offset>
										<AbsDimension x="-400" y="0" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Vaelastrasz the Corrupt_val" inherits="GameFontNormal" parentArray="bosses" text="Vaelastrasz the Corrupt">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Razorgore the Untamed_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Broodlord Lashlayer_val" inherits="GameFontNormal" parentArray="bosses" text="Broodlord Lashlayer">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Vaelastrasz the Corrupt_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Firemaw_val" inherits="GameFontNormal" parentArray="bosses" text="Firemaw">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Broodlord Lashlayer_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Ebonroc_val" inherits="GameFontNormal" parentArray="bosses" text="Ebonroc">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Firemaw_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Flamegor_val" inherits="GameFontNormal" parentArray="bosses" text="Flamegor">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Ebonroc_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Chromaggus_val" inherits="GameFontNormal" parentArray="bosses" text="Chromaggus">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Flamegor_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Nefarian_val" inherits="GameFontNormal" parentArray="bosses" text="Nefarian">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Chromaggus_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="$parent_zg" enableMouse="true" toplevel="true" hidden="true">
				<Size>
					<AbsDimension x="390" y="300" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-100" />
						</Offset>
					</Anchor>
				</Anchors>
				
				<Frames>
					<CheckButton name="CEPGP_options_High Priest Venoxis_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
								<AbsDimension x="0" y="-10" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_High Priestess Jeklik_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priest Venoxis_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_High Priestess Mar'li_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priestess Jeklik_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_High Priest Thekal_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priestess Mar'li_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_High Priestess Arlokk_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priest Thekal_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Edge of Madness_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priestess Arlokk_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Bloodlord Mandokir_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Edge of Madness_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Jin'do the Hexxer_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Bloodlord Mandokir_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Gahz'ranka_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Jin'do the Hexxer_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Hakkar_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gahz'ranka_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					
					<EditBox name="CEPGP_options_High Priest Venoxis_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
								<AbsDimension x="0" y="-15" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_High Priestess Jeklik_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priest Venoxis_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_High Priestess Mar'li_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priestess Jeklik_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_High Priest Thekal_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priestess Mar'li_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_High Priestess Arlokk_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priest Thekal_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Edge of Madness_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_High Priestess Arlokk_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Bloodlord Mandokir_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Edge of Madness_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Jin'do the Hexxer_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Bloodlord Mandokir_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Gahz'ranka_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Jin'do the Hexxer_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Hakkar_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gahz'ranka_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
				</Frames>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_options_High Priest Venoxis_val" inherits="GameFontNormal" parentArray="bosses" text="High Priest Venoxis">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_Lucifron_EP_value">
									<Offset>
										<AbsDimension x="-400" y="0" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_High Priestess Jeklik_val" inherits="GameFontNormal" parentArray="bosses" text="High Priestess Jeklik">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_High Priest Venoxis_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_High Priestess Mar'li_val" inherits="GameFontNormal" parentArray="bosses" text="High Priestess Mar'li">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_High Priestess Jeklik_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_High Priest Thekal_val" inherits="GameFontNormal" parentArray="bosses" text="High Priest Thekal">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_High Priestess Mar'li_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_High Priestess Arlokk_val" inherits="GameFontNormal" parentArray="bosses" text="High Priestess Arlokk">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_High Priest Thekal_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Edge of Madness_val" inherits="GameFontNormal" parentArray="bosses" text="The Edge of Madness">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_High Priestess Arlokk_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Bloodlord Mandokir_val" inherits="GameFontNormal" parentArray="bosses" text="Bloodlord Mandokir">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Edge of Madness_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Jin'do the Hexxer_val" inherits="GameFontNormal" parentArray="bosses" text="Jin'do the Hexxer">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Bloodlord Mandokir_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Gahz'ranka_val" inherits="GameFontNormal" parentArray="bosses" text="Gahz'ranka">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Jin'do the Hexxer_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Hakkar_val" inherits="GameFontNormal" parentArray="bosses" text="Hakkar">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Gahz'ranka_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="$parent_aq20" enableMouse="true" toplevel="true" hidden="true">
				<Size>
					<AbsDimension x="390" y="300" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-100" />
						</Offset>
					</Anchor>
				</Anchors>
				
				<Frames>
					<CheckButton name="CEPGP_options_Kurinnaxx_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
								<AbsDimension x="0" y="-10" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_General Rajaxx_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Kurinnaxx_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Moam_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_General Rajaxx_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Buru the Gorger_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Moam_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Ayamiss the Hunter_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Buru the Gorger_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Ossirian the Unscarred_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ayamiss the Hunter_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					
					<EditBox name="CEPGP_options_Kurinnaxx_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
								<AbsDimension x="0" y="-15" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_General Rajaxx_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Kurinnaxx_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Moam_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_General Rajaxx_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Buru the Gorger_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Moam_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Ayamiss the Hunter_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Buru the Gorger_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Ossirian the Unscarred_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ayamiss the Hunter_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
				</Frames>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_options_Kurinnaxx_val" inherits="GameFontNormal" parentArray="bosses" text="Kurinnaxx">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_Kurinnaxx_EP_value">
									<Offset>
										<AbsDimension x="-400" y="0" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_General Rajaxx_val" inherits="GameFontNormal" parentArray="bosses" text="General Rajaxx">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Kurinnaxx_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Moam_val" inherits="GameFontNormal" parentArray="bosses" text="Moam">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_General Rajaxx_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Buru the Gorger_val" inherits="GameFontNormal" parentArray="bosses" text="Buru the Gorger">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Moam_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Ayamiss the Hunter_val" inherits="GameFontNormal" parentArray="bosses" text="Ayamiss the Hunter">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Buru the Gorger_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Ossirian the Unscarred_val" inherits="GameFontNormal" parentArray="bosses" text="Ossirian the Unscarred">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Ayamiss the Hunter_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="$parent_aq40" enableMouse="true" toplevel="true" hidden="true">
				<Size>
					<AbsDimension x="390" y="300" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-100" />
						</Offset>
					</Anchor>
				</Anchors>
				
				<Frames>
					<CheckButton name="CEPGP_options_The Prophet Skeram_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
								<AbsDimension x="0" y="-10" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Battleguard Sartura_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Prophet Skeram_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Fankriss the Unyielding_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Battleguard Sartura_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Princess Huhuran_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Fankriss the Unyielding_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_The Silithid Royalty_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Princess Huhuran_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Viscidus_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Silithid Royalty_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Ouro_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Viscidus_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_The Twin Emperors_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ouro_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_C'Thun_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Twin Emperors_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					
					<EditBox name="CEPGP_options_The Prophet Skeram_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
								<AbsDimension x="0" y="-15" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Battleguard Sartura_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Prophet Skeram_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Fankriss the Unyielding_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Battleguard Sartura_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Princess Huhuran_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Fankriss the Unyielding_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_The Silithid Royalty_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Princess Huhuran_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Viscidus_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Silithid Royalty_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Ouro_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Viscidus_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_The Twin Emperors_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ouro_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_C'Thun_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Twin Emperors_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
				</Frames>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_options_The Prophet Skeram_val" inherits="GameFontNormal" parentArray="bosses" text="The Prophet Skeram">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_The Prophet Skeram_EP_value">
									<Offset>
										<AbsDimension x="-400" y="0" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Battleguard Sartura_val" inherits="GameFontNormal" parentArray="bosses" text="Battleguard Sartura">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_The Prophet Skeram_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Fankriss the Unyielding_val" inherits="GameFontNormal" parentArray="bosses" text="Fankriss the Unyielding">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Battleguard Sartura_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Princess Huhuran_val" inherits="GameFontNormal" parentArray="bosses" text="Princess Huhuran">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Fankriss the Unyielding_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_The Silithid Royalty_val" inherits="GameFontNormal" parentArray="bosses" text="The Silithid Royalty">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Princess Huhuran_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Viscidus_val" inherits="GameFontNormal" parentArray="bosses" text="Viscidus">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_The Silithid Royalty_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Ouro_val" inherits="GameFontNormal" parentArray="bosses" text="Ouro">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Viscidus_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_The Twin Emperors_val" inherits="GameFontNormal" parentArray="bosses" text="The Twin Emperors">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Ouro_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_C'Thun_val" inherits="GameFontNormal" parentArray="bosses" text="C'Thun">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_The Twin Emperors_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="$parent_naxx" enableMouse="true" toplevel="true" hidden="true">
				<Size>
					<AbsDimension x="390" y="300" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-100" />
						</Offset>
					</Anchor>
				</Anchors>
				<Frames>
					<CheckButton name="CEPGP_options_Anub'Rekhan_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
								<AbsDimension x="0" y="-10" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Grand Widow Faerlina_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Anub'Rekhan_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Maexxna_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Grand Widow Faerlina_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Noth the Plaguebringer_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Maexxna_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Heigan the Unclean_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Noth the Plaguebringer_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Loatheb_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Heigan the Unclean_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Instructor Razuvious_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Loatheb_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Gothik the Harvester_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Instructor Razuvious_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_The Four Horsemen_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gothik the Harvester_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Patchwerk_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Four Horsemen_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Grobbulus_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Patchwerk_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Gluth_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Grobbulus_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Thaddius_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gluth_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Sapphiron_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Thaddius_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Kel'Thuzad_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Sapphiron_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					
					<EditBox name="CEPGP_options_Anub'Rekhan_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
								<AbsDimension x="0" y="-15" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Grand Widow Faerlina_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Anub'Rekhan_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Maexxna_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Grand Widow Faerlina_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Noth the Plaguebringer_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Maexxna_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Heigan the Unclean_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Noth the Plaguebringer_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Loatheb_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Heigan the Unclean_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Instructor Razuvious_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Loatheb_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Gothik the Harvester_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Instructor Razuvious_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_The Four Horsemen_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gothik the Harvester_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Patchwerk_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_The Four Horsemen_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Grobbulus_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Patchwerk_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Gluth_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Grobbulus_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Thaddius_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Gluth_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Sapphiron_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Thaddius_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Kel'Thuzad_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Sapphiron_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
				</Frames>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_options_Anub'Rekhan_val" inherits="GameFontNormal" parentArray="bosses" text="Anub'Rekhan">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_Anub'Rekhan_EP_value">
									<Offset>
										<AbsDimension x="-400" y="0" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Grand Widow Faerlina_val" inherits="GameFontNormal" parentArray="bosses" text="Grand Widow Faerlina">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Anub'Rekhan_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Maexxna_val" inherits="GameFontNormal" parentArray="bosses" text="Maexxna">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Grand Widow Faerlina_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Noth the Plaguebringer_val" inherits="GameFontNormal" parentArray="bosses" text="Noth the Plaguebringer">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Maexxna_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Heigan the Unclean_val" inherits="GameFontNormal" parentArray="bosses" text="Heigan the Unclean">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Noth the Plaguebringer_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Loatheb_val" inherits="GameFontNormal" parentArray="bosses" text="Loatheb">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Heigan the Unclean_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Instructor Razuvious_val" inherits="GameFontNormal" parentArray="bosses" text="Instructor Razuvious">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Loatheb_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Gothik the Harvester_val" inherits="GameFontNormal" parentArray="bosses" text="Gothik the Harvester">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Instructor Razuvious_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_The Four Horsemen_val" inherits="GameFontNormal" parentArray="bosses" text="The Four Horsemen">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Gothik the Harvester_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Patchwerk_val" inherits="GameFontNormal" parentArray="bosses" text="Patchwerk">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_The Four Horsemen_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Grobbulus_val" inherits="GameFontNormal" parentArray="bosses" text="Grobbulus">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Patchwerk_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Gluth_val" inherits="GameFontNormal" parentArray="bosses" text="Gluth">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Grobbulus_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Thaddius_val" inherits="GameFontNormal" parentArray="bosses" text="Thaddius">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Gluth_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Sapphiron_val" inherits="GameFontNormal" parentArray="bosses" text="Sapphiron">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Thaddius_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Kel'Thuzad_val" inherits="GameFontNormal" parentArray="bosses" text="Kel'Thuzad">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Sapphiron_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>

			</Frame>
			<Frame name="$parent_worldboss" enableMouse="true" toplevel="true" hidden="true">
				<Size>
					<AbsDimension x="390" y="300" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="20" y="-100" />
						</Offset>
					</Anchor>
				</Anchors>
				
				<Frames>
					<CheckButton name="CEPGP_options_Lord Kazzak_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_autoaward_header">
								<AbsDimension x="0" y="-10" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Azuregos_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Lord Kazzak_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Emeriss_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Azuregos_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Lethon_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Emeriss_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Ysondre_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Lethon_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					<CheckButton name="CEPGP_options_Taerar_auto_check" inherits="AutoAwardEPCheckBox">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ysondre_auto_check">
								<AbsDimension x="0" y="3" />
							</Anchor>
						</Anchors>
					</CheckButton>
					
					<EditBox name="CEPGP_options_Lord Kazzak_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_EP_options_EP_header">
								<AbsDimension x="0" y="-15" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Azuregos_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Lord Kazzak_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Emeriss_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Azuregos_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Lethon_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Emeriss_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Ysondre_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Lethon_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
					<EditBox name="CEPGP_options_Taerar_EP_value" inherits="epValInputBoxTemplate">
						<Anchors>
							<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_Ysondre_EP_value">
								<AbsDimension x="0" y="-12.5" />
							</Anchor>
						</Anchors>
					</EditBox>
				</Frames>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_options_Lord Kazzak_val" inherits="GameFontNormal" parentArray="bosses" text="Lord Kazzak">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="LEFT" relativePoint="LEFT" relativeTo="CEPGP_options_Lord Kazzak_EP_value">
									<Offset>
										<AbsDimension x="-400" y="0" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Azuregos_val" inherits="GameFontNormal" parentArray="bosses" text="Azuregos">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Lord Kazzak_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Emeriss_val" inherits="GameFontNormal" parentArray="bosses" text="Emeriss">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Azuregos_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Lethon_val" inherits="GameFontNormal" parentArray="bosses" text="Lethon">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Emeriss_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Ysondre_val" inherits="GameFontNormal" parentArray="bosses" text="Ysondre">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Lethon_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_Taerar_val" inherits="GameFontNormal" parentArray="bosses" text="Taerar">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_Ysondre_val">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
		</Frames>
		<Scripts>
			<OnShow>
				CEPGP_toggleBossConfigFrame("CEPGP_EP_options_mc");
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_GP_options" hidden="true">
		<Anchors>
			<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
		</Anchors>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="$parent_header" inherits="GameFontNormalLarge" text="GP设置管理">
					<Anchors>
						<Anchor point="CENTER" relativePoint="TOP">
							<AbsDimension x="0" y="-20" />
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parent_raid_override" inherits="GameMenuButtonTemplate" text="全版本装备GP修正">
				<Size x="125" y="21" />
				<Anchors>
					<Anchor point="TOPLEFT" x="10" y="-10" />
				</Anchors>
				<Scripts>
					<OnClick>
						CEPGP_raid_modifiers:Show();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("对每个团队副本中的装备应用GP值比例");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="CEPGP_button_options_CEPGP_override" inherits="GameMenuButtonTemplate" text="装备GP值设置">
				<Size>
					<AbsDimension x="125" y="21" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_raid_override">
						<Offset>
							<AbsDimension x="0" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_override:Show();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("允许您为物品GP值创建永久覆盖。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Frame name="CEPGP_options_gp_container">
				<Size>
					<AbsDimension x="450" y="120" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_button_options_CEPGP_override" />
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_options_formula_desc" inherits="GameFontNormal" text="GP公式:">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
									<Offset>
										<AbsDimension x="10" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_formula" inherits="GameFontNormal" text="x(">
							<Color r="1" g="1" b="1"/>
						</FontString>
						<FontString name="CEPGP_options_formula_2" inherits="GameFontNormal" text="^((ilvl/26)+(rarity-4)) x slot) x">
							<Color r="1" g="1" b="1"/>
						</FontString>
						<FontString name="CEPGP_options_gp_base" inherits="GameFontNormal" text="玩家初始值/最小值GP:">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_formula_desc">
									<Offset>
										<AbsDimension x="0" y="-10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_gp_base_decay_factor" inherits="GameFontNormal" text="衰减操作时忽略基础GP: ">
							<Color r="1" g="1" b="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_gp_base">
									<Offset>
										<AbsDimension x="0" y="-12" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_gp_tooltips_text" inherits="GameFontNormal" text="鼠标提示上显示装备GP值:">
							<Color r="1" g="1" b="1" />
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_gp_base_decay_factor">
									<AbsDimension x="0" y="-12" />
								</Anchor>
							</Anchors>
						</FontString>
						
					</Layer>
				</Layers>
				<Frames>
					<EditBox name="CEPGP_options_coef_edit" inherits="InputBoxTemplate">
						<Size>
							<AbsDimension x="40" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_formula_desc">
								<Offset>
									<AbsDimension x="15" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								CEPGP_options_coef_edit:SetAutoFocus(false);
								CEPGP_options_formula:SetPoint("LEFT", self, "RIGHT");
							</OnLoad>
							<OnEnterPressed>
								CEPGP_options_coef_edit:ClearFocus();
							</OnEnterPressed>
							<OnEditFocusLost>
								self:HighlightText(0,0);
								local value = self:GetText();
								if not CEPGP_isNumber(value) then
									CEPGP_print("基础系数必须只包含数字", true);
									self:SetText(tostring(COEF));
								elseif value == "" then
									CEPGP_print("基础GP系数不能为空", true);
									self:SetText(tostring(COEF));
								elseif tonumber(self:GetText()) == 0 then
									CEPGP_print("基础GP系数不能为0", true);
									self:SetText(tostring(COEF));
								elseif COEF ~= tonumber(value) then
									COEF = tonumber(value);
									CEPGP.GP.Base = tonumber(value);
									CEPGP_print("更新基础系数");
								end
							</OnEditFocusLost>
						</Scripts>
					</EditBox>
					<EditBox name="CEPGP_options_coef_2_edit" inherits="InputBoxTemplate">
						<Size>
							<AbsDimension x="40" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_coef_edit">
								<Offset>
									<AbsDimension x="17.5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								self:SetAutoFocus(false);
							</OnLoad>
							<OnEnterPressed>
								self:ClearFocus();
							</OnEnterPressed>
							<OnEditFocusLost>
								self:HighlightText(0,0);
								local value = self:GetText();
								if not CEPGP_isNumber(value) then
									CEPGP_print("mod系数只能包含数字", true);
									self:SetText(tostring(MOD_COEF));
								elseif value == "" then
									CEPGP_print("Mod GP系数不能为空", true);
									self:SetText(tostring(MOD_COEF));
								elseif tonumber(self:GetText()) == 0 then
									CEPGP_print("Mod GP系数不能为0", true);
									self:SetText(tostring(MOD_COEF));
								elseif MOD_COEF ~= tonumber(value) then
									MOD_COEF = tonumber(value);
									CEPGP.GP.Multiplier = tonumber(value);
									CEPGP_print("修正mod系数");
								end
							</OnEditFocusLost>
						</Scripts>
					</EditBox>
					<EditBox name="CEPGP_options_mod_edit" inherits="InputBoxTemplate">
						<Size>
							<AbsDimension x="40" y="20" />
						</Size>
						<Scripts>
							<OnLoad>
								CEPGP_options_mod_edit:SetAutoFocus(false);
							</OnLoad>
							<OnEnterPressed>
								CEPGP_options_mod_edit:ClearFocus();
							</OnEnterPressed>
							<OnEditFocusLost>
								self:HighlightText(0,0);
								local value = self:GetText();
								if not CEPGP_isNumber(value) then
									CEPGP_print("GP倍数必须只包含数字", true);
									self:SetText(tostring(MOD));
								elseif value == "" then
									CEPGP_print("GP倍数不能为空", true);
									self:SetText(tostring(MOD));
								elseif 0 >= tonumber(self:GetText()) then
									CEPGP_print("GP倍数不能为0", true);
									self:SetText(tostring(MOD));
								elseif MOD ~= tonumber(value) then
									MOD = tonumber(value);
									CEPGP.GP.Mod = tonumber(value);
									CEPGP_print("更新GP倍数");
								end
							</OnEditFocusLost>
						</Scripts>
					</EditBox>
					<EditBox name="CEPGP_options_gp_base_edit" inherits="InputBoxTemplate">
						<Size>
							<AbsDimension x="40" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_gp_base">
								<Offset>
									<AbsDimension x="10" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnLoad>
								CEPGP_options_gp_base_edit:SetAutoFocus(false);
							</OnLoad>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("设置所有玩家开始的GP值和玩家可以达到的最小GP值.\n注意：此更改只有在玩家的GP被修改后才会生效，并且使用中不要轻易修改基础GP。");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
							<OnEnterPressed>
								CEPGP_options_gp_base_edit:ClearFocus();
							</OnEnterPressed>
							<OnEditFocusLost>
								self:HighlightText(0,0);
								local value = self:GetText();
								if not CEPGP_isNumber(value) then
									CEPGP_print("基础GP必须只包含数字", true);
									self:SetText(tostring(BASEGP));
								elseif value == "" then
									CEPGP_print("基础GP不能是空白的", true);
									self:SetText(tostring(BASEGP));
								elseif tonumber(self:GetText()) == 0 then
									CEPGP_print("基础GP不能为0", true);
									self:SetText(tostring(BASEGP));
								elseif 0 > tonumber(self:GetText()) then
									CEPGP_print("基础GP必须是正数", true);
									self:SetText(tostring(BASEGP));
								elseif BASEGP == tonumber(value) then
									return;
								end
								
								BASEGP = tonumber(value);
								CEPGP.GP.Min = tonumber(value);
								CEPGP_print("更新基础GP");
							</OnEditFocusLost>
						</Scripts>
					</EditBox>
					<CheckButton name="CEPGP_options_gp_base_decay_check" inherits="UIOptionsCheckButtonTemplate">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_gp_base_decay_factor">
								<Offset>
									<AbsDimension x="5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								if self:GetChecked() then
									CEPGP_minGPDecayFactor = true;
									CEPGP.GP.DecayFactor = true;
									CEPGP_print("现在衰减EPGP时会减去公会默认最小GP值。");
								else
									CEPGP_minGPDecayFactor = false;
									CEPGP.GP.DecayFactor = false;
									CEPGP_print("现在衰减EPGP时不会减去公会默认最小GP值。");
								end
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("启用时，衰减操作时忽略基础GP值进行衰减。\n\n例如：一个玩家有100GP，最小GP为25，衰减率为10%。\n此选项已禁用：GP将衰减100的10%。\n启用此选项：GP将衰减75的10%。");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</CheckButton>
					<CheckButton name="CEPGP_options_gp_tooltips_check" inherits="UIOptionsCheckButtonTemplate">
						<HitRectInsets>
							<AbsInset left="0" right="0" top="0" bottom="0" />
						</HitRectInsets>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_gp_tooltips_text">
								<Offset>
									<AbsDimension x="5" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								if self:GetChecked() then
									CEPGP_gp_tooltips = true;
									CEPGP.GP.Tooltips = true;
									CEPGP_print("已开启鼠标提示上的GP值");
								else
									CEPGP_gp_tooltips = false;
									CEPGP.GP.Tooltips = false;
									CEPGP_print("已关闭鼠标提示上的GP值");
								end
							</OnClick>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
								GameTooltip:SetText("显示基于当前GP公式的装备鼠标提示上的GP值。");
							</OnEnter>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
							<OnShow>
								if CEPGP_gp_tooltips then
									self:SetChecked(true);
								else
									self:SetChecked(false);
								end
							</OnShow>
						</Scripts>
					</CheckButton>
				</Frames>
			</Frame>
			<Frame name="CEPGP_options_slots_container">
				<Size>
					<AbsDimension x="580" y="150" />
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<AbsDimension x="20" y="40" />
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString name="CEPGP_options_slot_weight_head" inherits="GameFontNormal" text="权重值">
							<Color r="0.95" g="0.75" b="0.26"/>
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT">
									<Offset>
										<AbsDimension x="10" y="10" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_HEAD" inherits="SlotWeightFontTemplate" text="头部:">
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
									<Offset>
										<AbsDimension x="20" y="0" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_NECK" inherits="SlotWeightFontTemplate" text="项链:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_HEAD">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_SHOULDER" inherits="SlotWeightFontTemplate" text="肩膀:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_NECK">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_CLOAK" inherits="SlotWeightFontTemplate" text="披风:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_SHOULDER">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_CHEST" inherits="SlotWeightFontTemplate" text="胸甲:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_CLOAK">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_WRIST" inherits="SlotWeightFontTemplate" text="护腕:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_CHEST">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_HAND" inherits="SlotWeightFontTemplate" text="手部:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_WRIST">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_WAIST" inherits="SlotWeightFontTemplate" text="腰带:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_HAND">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_LEGS" inherits="SlotWeightFontTemplate" text="腿部:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeTo="CEPGP_options_slot_HEAD">
									<Offset>
										<AbsDimension x="220" Y="0" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_FEET" inherits="SlotWeightFontTemplate" text="鞋子:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_LEGS">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_FINGER" inherits="SlotWeightFontTemplate" text="戒指:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_FEET">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_TRINKET" inherits="SlotWeightFontTemplate" text="饰品:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_FINGER">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_WEAPONMAINHAND" inherits="SlotWeightFontTemplate" text="主手武器:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_TRINKET">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_WEAPONOFFHAND" inherits="SlotWeightFontTemplate" text="副手武器:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_WEAPONMAINHAND">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_HOLDABLE" inherits="SlotWeightFontTemplate" text="副手物品:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_WEAPONOFFHAND">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_WEAPON" inherits="SlotWeightFontTemplate" text="单手武器:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_HOLDABLE">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_SHIELD" inherits="SlotWeightFontTemplate" text="盾牌:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
									<Offset>
										<AbsDimension x="-60" y="0" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_WAND" inherits="SlotWeightFontTemplate" text="魔杖:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_SHIELD">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_RANGED" inherits="SlotWeightFontTemplate" text="远程武器:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_WAND">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_RELIC" inherits="SlotWeightFontTemplate" text="遗物:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_RANGED">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_THROWN" inherits="SlotWeightFontTemplate" text="投掷武器:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_RELIC">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="CEPGP_options_slot_2HWEAPON" inherits="SlotWeightFontTemplate" text="双手武器:">
							<Anchors>
								<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_slot_THROWN">
									<Offset>
										<AbsDimension x="0" y="-8" />
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<EditBox name="CEPGP_options_HEAD_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_NECK_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_SHOULDER_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_CLOAK_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_CHEST_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_WRIST_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_HAND_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_WAIST_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_LEGS_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_FEET_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_FINGER_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_TRINKET_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_WEAPONMAINHAND_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_WEAPONOFFHAND_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_HOLDABLE_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_WEAPON_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_SHIELD_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_WAND_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_RANGED_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_RELIC_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_THROWN_weight" inherits="slotWeightInputBoxTemplate" />
					<EditBox name="CEPGP_options_2HWEAPON_weight" inherits="slotWeightInputBoxTemplate" />
				</Frames>
			</Frame>
		</Frames>
		<Scripts>	<!--	anchors loaded here	-->
			<OnLoad>
				
			</OnLoad>
			<OnShow>
				CEPGP_options_formula_2:SetPoint("LEFT", "CEPGP_options_coef_2_edit", "RIGHT", 5, 0);
				CEPGP_options_mod_edit:SetPoint("LEFT", CEPGP_options_formula_2, "RIGHT", 5, 0);
				
				CEPGP_options_coef_edit:SetText(CEPGP.GP.Base);
				CEPGP_options_coef_2_edit:SetText(CEPGP.GP.Multiplier);
				CEPGP_options_mod_edit:SetText(CEPGP.GP.Mod);
				CEPGP_options_gp_base_edit:SetText(CEPGP.GP.Min);
				CEPGP_options_gp_base_decay_check:SetChecked(CEPGP.GP.DecayFactor);
				CEPGP_options_gp_tooltips_check:SetChecked(CEPGP.GP.Tooltips);
				
				for k, v in pairs(CEPGP.GP.SlotWeights) do
					if k ~= "ROBE" and k ~= "EXCEPTION" then
						_G["CEPGP_options_" .. k .. "_weight"]:SetText(tonumber(SLOTWEIGHTS[k]));
					end
				end
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_loot_options" hidden="true">
		<Layers>
			<Layer level="HIGH">
				<FontString name="CEPGP_loot_options_head" inherits="GameFontNormalLarge" text="战利品分配">
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-2"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<ScrollFrame name="$parent_scrollframe" inherits="UIPanelScrollFrameTemplate">
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_loot_options_head" />
				</Anchors>
				<ScrollChild>
					<Frame name="$parent_container">
						<Layers>
							<Layer level="HIGH">
								<FontString name="CEPGP_loot_options_keywords_string" inherits="GameFontNormal" text="启用其他响应关键字:" />
								<FontString name="CEPGP_loot_options_timer_text" inherits="GameFontNormal" text="需求界面持续时间: " />
								<FontString name="CEPGP_loot_options_raid_warning_text" inherits="GameFontNormal" text="分配战力品时发出团队警告: " />
								<FontString name="CEPGP_loot_options_announce_text" inherits="GameFontNormal" text="公告消息: " />
								<FontString name="CEPGP_loot_options_hide_response_text" inherits="GameFontNormal" text="在战利品公告中隐藏关键词选项: " />
								<FontString name="CEPGP_loot_options_auto_pass" inherits="GameFontNormal" text="自动放弃不适合自己的装备:" />
								<FontString name="CEPGP_loot_options_announcement_suppression" inherits="GameFontNormal" text="聊天窗口屏蔽需求分配公告: " />
								<FontString name="CEPGP_loot_options_announcement_delay" inherits="GameFontNormal" text="延迟战利品响应公告: " />
								<FontString name="CEPGP_loot_options_announcement_delay_PR" inherits="GameFontNormal" text="在延迟通知中显示玩家优先级: " />
								<FontString name="CEPGP_loot_options_announcement_delay_roll" inherits="GameFontNormal" text="在延迟公告中显示玩家Roll点: " />
								<FontString name="CEPGP_loot_options_min_EP_text" inherits="GameFontNormal" text="需求装备响应要求最低EP值: " />
								<FontString name="CEPGP_loot_options_show_passes" inherits="GameFontNormal" text="在战利品分配界面中显示放弃的成员: " />
								<FontString name="CEPGP_loot_options_enforce_PR_sorting" inherits="GameFontNormal" text="在战利品分配界面中自动排序PR值: " />
								<FontString name="CEPGP_loot_options_dist_raidwide_text" inherits="GameFontNormal" text="团队所有成员的战利品分发窗口可见:" />
								<FontString name="CEPGP_loot_options_autoshow_text" inherits="GameFontNormal" text="自动显示战利品分配界面:" />
								<FontString name="CEPGP_loot_options_min_threshold_text" inherits="GameFontNormal" text="分配界面自动显示装备最低稀有度:" />
								<FontString name="CEPGP_loot_options_channel_text" inherits="GameFontNormal" text="战利品拾取报告频道:" />
								<FontString name="CEPGP_loot_options_pass_roll_text" inherits="GameFontNormal" text="放弃装备的玩家自动Roll点获取该装备:" />
								<FontString name="CEPGP_loot_options_announce_roll_text" inherits="GameFontNormal" text="在响应公告中包含Roll点信息:" />
								<FontString name="CEPGP_loot_options_resolve_roll_text" inherits="GameFontNormal" text="自动解决相同的Roll点:" />
							</Layer>
						</Layers>
						<Frames>
							<Frame name="CEPGP_loot_options_1">
								<Size>
									<AbsDimension x="275" y="90" />
								</Size>
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
										<AbsDimension x="12.5" y="-30" />
									</Anchor>
								</Anchors>
								<Layers>
									<Layer level="OVERLAY">
										<FontString name="$parent_string" inherits="GameFontNormal" text="回应按钮 1">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
											</Anchors>
										</FontString>
										<FontString name="$parent_string_enabled" inherits="GameFontNormal" text="启用: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
										<FontString name="$parent_string_text" inherits="GameFontNormal" text="按钮文本: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_enabled">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
										<FontString name="$parent_string_discount" inherits="GameFontNormal" text="% GP折扣: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_text">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
										<FontString name="$parent_string_whisper" inherits="GameFontNormal" text="替代关键词: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_discount">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Frames>
									<CheckButton name="$parent_enabled_check" inherits="UIOptionsCheckButtonTemplate" checked="true">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_enabled">
												<Offset>
													<AbsDimension x="-5" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:Disable();
											</OnLoad>
											<OnClick>
											</OnClick>
										</Scripts>
									</CheckButton>
									<EditBox name="$parent_text" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="120" y="20" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_text">
												<Offset>
													<AbsDimension x="15" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												self:SetMaxLetters(15);
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = self:GetText();
												local default = CEPGP_response_buttons[1][2];
												if value == "" then
													self:SetText(default);
													CEPGP_print("按钮文本不能为空", true);
													return;
												elseif value == default then
													return;
												end
												
												CEPGP_response_buttons[1][2] = value;
												CEPGP.Loot.GUI.Buttons[1][2] = value;
												CEPGP_print("更新响应按钮1的文本内容。.");
												CEPGP_loot_options_preview_1:SetText(value);
											</OnEditFocusLost>
										</Scripts>
									</EditBox>
									<EditBox name="$parent_discount" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="120" y="20" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_discount" numeric="true">
												<Offset>
													<AbsDimension x="15" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												self:SetMaxLetters(4);
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = tonumber(self:GetText());
												local default = CEPGP_response_buttons[1][3];
												if not value or value == default then
													self:SetText(default);
													return;
												end
												if value > 300 then
													self:SetText(default);
													CEPGP_print("折扣不能低于1或大于300.", true);
													return;
												end
												CEPGP_response_buttons[1][3] = value;
												CEPGP.Loot.GUI.Buttons[1][3] = value;
												CEPGP_print("更新按钮1的GP折扣.");
											</OnEditFocusLost>
										</Scripts>
									</EditBox>
									<EditBox name="$parent_whisper_edit" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="120" y="20" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_whisper">
												<Offset>
													<AbsDimension x="15" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = self:GetText();
												local default = CEPGP_response_buttons[1][4];
												
												if string.lower(value) == string.lower(default) then return; end
												
												for i = 1, 4 do
													if string.lower(value) == string.lower(CEPGP_response_buttons[i][4]) then
														CEPGP_print("关键字 '" .. value .. "' 已在使用中", true);
														self:SetText(default);
														return;
													end
												end
												
												for k, _ in pairs(CEPGP.Loot.ExtraKeywords.Keywords) do
													if string.lower(value) == string.lower(k) then
														CEPGP_print("关键字 '" .. value .. "' 已在使用中", true);
														self:SetText(default);
														return;
													end
												end
												
												if value == "" then
													self:SetText(default);
													CEPGP_print("响应关键字短语不能为空", true);
													return;
												end
												
												CEPGP_response_buttons[1][4] = value;
												CEPGP.Loot.GUI.Buttons[1][4] = value;
												CEPGP_print("更新响应按钮1的响应关键词.");
												
											</OnEditFocusLost>
										</Scripts>
									</EditBox>
								</Frames>
							</Frame>
							<Frame name="CEPGP_loot_options_2">
								<Size>
									<AbsDimension x="275" y="110" />
								</Size>
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_1">
										<AbsDimension x="0" y="-20" />
									</Anchor>
								</Anchors>
								<Layers>
									<Layer level="OVERLAY">
										<FontString name="$parent_string" inherits="GameFontNormal" text="回应按钮 2">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
											</Anchors>
										</FontString>
										<FontString name="$parent_string_enabled" inherits="GameFontNormal" text="启用: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
										<FontString name="$parent_string_text" inherits="GameFontNormal" text="按钮文本: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_enabled">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
										<FontString name="$parent_string_discount" inherits="GameFontNormal" text="% GP折扣: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_text">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
										<FontString name="$parent_string_whisper" inherits="GameFontNormal" text="替代关键词: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_discount">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Frames>
									<CheckButton name="$parent_enabled_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_enabled">
												<Offset>
													<AbsDimension x="-5" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnClick>
												if self:GetChecked() then
													CEPGP_response_buttons[2][1] = true;
													CEPGP.Loot.GUI.Buttons[2][1] = true;
													CEPGP_loot_options_preview_2:Show();
													CEPGP_print("开启响应按钮2.");
												else
													CEPGP_response_buttons[2][1] = false;
													CEPGP.Loot.GUI.Buttons[2][1] = false;
													CEPGP_loot_options_preview_2:Hide();
													CEPGP_print("关闭响应按钮2.");
												end
											</OnClick>
										</Scripts>
									</CheckButton>
									<EditBox name="$parent_text" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="120" y="20" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_text">
												<Offset>
													<AbsDimension x="15" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												self:SetMaxLetters(15);
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = self:GetText();
												local default = CEPGP_response_buttons[2][2];
												if value == "" then
													self:SetText(default);
													CEPGP_print("按钮文本不能为空", true);
													return;
												elseif value == default then
													return;
												end
												
												CEPGP_response_buttons[2][2] = value;
												CEPGP.Loot.GUI.Buttons[2][2] = value;
												CEPGP_print("更新响应按钮2的文本内容.");
												CEPGP_loot_options_preview_2:SetText(value);
											</OnEditFocusLost>
										</Scripts>
									</EditBox>
									<EditBox name="$parent_discount" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="120" y="20" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_discount" numeric="true">
												<Offset>
													<AbsDimension x="15" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												self:SetMaxLetters(4);
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = tonumber(self:GetText());
												local default = CEPGP_response_buttons[2][3];
												if not value or value == default then
													self:SetText(default);
													return;
												end
												if value > 300 then
													self:SetText(default);
													CEPGP_print("折扣不能低于1或大于300.", true);
													return;
												end
												CEPGP_response_buttons[2][3] = value;
												CEPGP.Loot.GUI.Buttons[2][3] = value;
												CEPGP_print("更新按钮2的GP折扣.");
											</OnEditFocusLost>
										</Scripts>
									</EditBox>
									<EditBox name="$parent_whisper_edit" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="120" y="20" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_whisper">
												<Offset>
													<AbsDimension x="15" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = self:GetText();
												local default = CEPGP_response_buttons[2][4];
												
												if string.lower(value) == string.lower(default) then return; end
												
												for i = 1, 4 do
													if string.lower(value) == string.lower(CEPGP_response_buttons[i][4]) then
														CEPGP_print("关键词 '" .. value .. "' 已在使用中", true);
														self:SetText(default);
														return;
													end
												end
												
												for k, _ in pairs(CEPGP.Loot.ExtraKeywords.Keywords) do
													if string.lower(value) == string.lower(k) then
														CEPGP_print("关键词 '" .. value .. "' 已在使用中", true);
														self:SetText(default);
														return;
													end
												end
												
												if value == "" then
													self:SetText(default);
													CEPGP_print("响应关键字短语不能为空", true);
													return;
												end
												
												CEPGP_response_buttons[2][4] = value;
												CEPGP.Loot.GUI.Buttons[2][4] = value;
												CEPGP_print("更新响应按钮2的响应关键词.");
												
											</OnEditFocusLost>
										</Scripts>
									</EditBox>
								</Frames>
							</Frame>
							<Frame name="CEPGP_loot_options_3">
								<Size>
									<AbsDimension x="275" y="90" />
								</Size>
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" relativeTo="CEPGP_loot_options_1">
										<AbsDimension x="0" y="0" />
									</Anchor>
								</Anchors>
								<Layers>
									<Layer level="OVERLAY">
										<FontString name="$parent_string" inherits="GameFontNormal" text="回应按钮 3">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
											</Anchors>
										</FontString>
										<FontString name="$parent_string_enabled" inherits="GameFontNormal" text="启用: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
										<FontString name="$parent_string_text" inherits="GameFontNormal" text="按钮文本: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_enabled">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
										<FontString name="$parent_string_discount" inherits="GameFontNormal" text="% GP折扣: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_text">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
										<FontString name="$parent_string_whisper" inherits="GameFontNormal" text="替代关键词: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_discount">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Frames>
									<CheckButton name="$parent_enabled_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_enabled">
												<Offset>
													<AbsDimension x="-5" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnClick>
												if self:GetChecked() then
													CEPGP_response_buttons[3][1] = true;
													CEPGP.Loot.GUI.Buttons[3][1] = true;
													CEPGP_loot_options_preview_3:Show();
													CEPGP_print("开启响应按钮3.");
												else
													CEPGP_response_buttons[3][1] = false;
													CEPGP.Loot.GUI.Buttons[3][1] = false;
													CEPGP_loot_options_preview_3:Hide();
													CEPGP_print("关闭响应按钮3.");
												end
											</OnClick>
										</Scripts>
									</CheckButton>
									<EditBox name="$parent_text" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="120" y="20" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_text">
												<Offset>
													<AbsDimension x="15" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												self:SetMaxLetters(15);
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = self:GetText();
												local default = CEPGP_response_buttons[3][2];
												if value == "" then
													self:SetText(default);
													CEPGP_print("按钮文本不能为空", true);
													return;
												elseif value == default then
													return;
												end
												CEPGP_response_buttons[3][2] = value;
												CEPGP.Loot.GUI.Buttons[3][2] = value;
												CEPGP_print("更新响应按钮3的文本内容.");
												CEPGP_loot_options_preview_3:SetText(value);
											</OnEditFocusLost>
										</Scripts>
									</EditBox>
									<EditBox name="$parent_discount" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="120" y="20" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_discount" numeric="true">
												<Offset>
													<AbsDimension x="15" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												self:SetMaxLetters(4);
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = tonumber(self:GetText());
												local default = CEPGP_response_buttons[3][3];
												if not value or value == default then
													self:SetText(default);
													return;
												end
												if value > 300 then
													self:SetText(default);
													CEPGP_print("折扣不能低于1或大于300.", true);
													return;
												end
												CEPGP_response_buttons[3][3] = value;
												CEPGP.Loot.GUI.Buttons[3][3] = value;
												CEPGP_print("更新按钮3的GP折扣.");
											</OnEditFocusLost>
											<OnShow>
												self:SetText(tostring(CEPGP_response_buttons[3][3]));
											</OnShow>
										</Scripts>
									</EditBox>
									<EditBox name="$parent_whisper_edit" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="120" y="20" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_whisper">
												<Offset>
													<AbsDimension x="15" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = self:GetText();
												local default = CEPGP_response_buttons[3][4];
												
												if string.lower(value) == string.lower(default) then return; end
												
												for i = 1, 4 do
													if string.lower(value) == string.lower(CEPGP_response_buttons[i][4]) then
														CEPGP_print("关键词 '" .. value .. "' 已在使用中", true);
														self:SetText(default);
														return;
													end
												end
												
												for k, _ in pairs(CEPGP.Loot.ExtraKeywords.Keywords) do
													if string.lower(value) == string.lower(k) then
														CEPGP_print("关键词 '" .. value .. "' 已在使用中", true);
														self:SetText(default);
														return;
													end
												end
												
												if value == "" then
													self:SetText(default);
													CEPGP_print("响应关键字短语不能为空", true);
													return;
												end
												
												CEPGP_response_buttons[3][4] = value;
												CEPGP.Loot.GUI.Buttons[3][4] = value;
												CEPGP_print("更新响应按钮3的响应关键词.");
												
											</OnEditFocusLost>
										</Scripts>
									</EditBox>
								</Frames>
							</Frame>
							<Frame name="CEPGP_loot_options_4">
								<Size>
									<AbsDimension x="275" y="110" />
								</Size>
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_3">
										<AbsDimension x="0" y="-20" />
									</Anchor>
								</Anchors>
								<Layers>
									<Layer level="OVERLAY">
										<FontString name="$parent_string" inherits="GameFontNormal" text="回应按钮 4">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
											</Anchors>
										</FontString>
										<FontString name="$parent_string_enabled" inherits="GameFontNormal" text="启用: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
										<FontString name="$parent_string_text" inherits="GameFontNormal" text="按钮文本t: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_enabled">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
										<FontString name="$parent_string_discount" inherits="GameFontNormal" text="% GP折扣: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_text">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
										<FontString name="$parent_string_whisper" inherits="GameFontNormal" text="替代关键词: ">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_string_discount">
													<AbsDimension x="0" y="-7" />
												</Anchor>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Frames>
									<CheckButton name="$parent_enabled_check" inherits="UIOptionsCheckButtonTemplate">
										<HitRectInsets>
											<AbsInset left="0" right="0" top="0" bottom="0" />
										</HitRectInsets>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_enabled">
												<Offset>
													<AbsDimension x="-5" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnClick>
												if self:GetChecked() then
													CEPGP_response_buttons[4][1] = true;
													CEPGP.Loot.GUI.Buttons[4][1] = true;
													CEPGP_loot_options_preview_4:Show();
													CEPGP_print("开启响应按钮4.");
												else
													CEPGP_response_buttons[4][1] = false;
													CEPGP.Loot.GUI.Buttons[4][1] = false;
													CEPGP_loot_options_preview_4:Hide();
													CEPGP_print("关闭响应按钮4.");
												end
											</OnClick>
										</Scripts>
									</CheckButton>
									<EditBox name="$parent_text" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="120" y="20" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_text">
												<Offset>
													<AbsDimension x="15" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												self:SetMaxLetters(15);
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = self:GetText();
												local default = CEPGP_response_buttons[4][2];
												if value == "" then
													self:SetText(default);
													CEPGP_print("按钮文本不能为空", true);
													return;
												elseif value == default then
													return;
												end
												CEPGP_response_buttons[4][2] = value;
												CEPGP.Loot.GUI.Buttons[4][2] = value;
												CEPGP_print("更新响应按钮4的文本内容.");
												CEPGP_loot_options_preview_4:SetText(value);
											</OnEditFocusLost>
										</Scripts>
									</EditBox>
									<EditBox name="$parent_discount" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="120" y="20" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_discount" numeric="true">
												<Offset>
													<AbsDimension x="15" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												self:SetMaxLetters(4);
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = tonumber(self:GetText());
												local default = CEPGP_response_buttons[4][3];
												if not value or value == default then
													self:SetText(default);
													return;
												end
												if value > 300 then
													self:SetText(default);
													CEPGP_print("折扣不能低于1或大于300.", true);
													return;
												end
												CEPGP_response_buttons[4][3] = value;
												CEPGP.Loot.GUI.Buttons[4][3] = value;
												CEPGP_print("更新按钮4的GP折扣.");
											</OnEditFocusLost>
										</Scripts>
									</EditBox>
									<EditBox name="$parent_whisper_edit" inherits="InputBoxTemplate">
										<Size>
											<AbsDimension x="120" y="20" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_string_whisper">
												<Offset>
													<AbsDimension x="15" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetAutoFocus(false);
												
											</OnLoad>
											<OnEnterPressed>
												self:ClearFocus();
											</OnEnterPressed>
											<OnEditFocusLost>
												self:HighlightText(0,0);
												local value = self:GetText();
												local default = CEPGP_response_buttons[4][4];
												
												if string.lower(value) == string.lower(default) then return; end
												
												for i = 1, 4 do
													if string.lower(value) == string.lower(CEPGP_response_buttons[i][4]) then
														CEPGP_print("关键词 '" .. value .. "' 已在使用中", true);
														self:SetText(default);
														return;
													end
												end
												
												for k, _ in pairs(CEPGP.Loot.ExtraKeywords.Keywords) do
													if string.lower(value) == string.lower(k) then
														CEPGP_print("关键词 '" .. value .. "' 已在使用中", true);
														self:SetText(default);
														return;
													end
												end
												
												if value == "" then
													self:SetText(default);
													CEPGP_print("响应关键字短语不能为空", true);
													return;
												end
												
												CEPGP_response_buttons[4][4] = value;
												CEPGP.Loot.GUI.Buttons[4][4] = value;
												CEPGP_print("更新响应按钮4的响应关键词.");
												
											</OnEditFocusLost>
										</Scripts>
									</EditBox>
								</Frames>
							</Frame>
							<Frame name="CEPGP_loot_options_preview">
								<Size>
									<AbsDimension x="550" y="65" />
								</Size>
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_2">
										<AbsDimension x="0" y="10" />
									</Anchor>
								</Anchors>
								<Layers>
									<Layer level="OVERLAY">
										<FontString name="$parent_string" inherits="GameFontNormal" text="预览：响应按钮">
											<Anchors>
												<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Frames>
									<Button name="$parent_1" inherits="GameMenuButtonTemplate" text="">
										<Size>
											<AbsDimension x="100" y="31" />
										</Size>
										<Anchors>
											<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
												<Offset>
													<AbsDimension x="60" y="10" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnClick>
												PlaySound(799);
											</OnClick>
										</Scripts>
									</Button>
									<Button name="$parent_2" inherits="GameMenuButtonTemplate" text="">
										<Size>
											<AbsDimension x="100" y="31" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_1">
												<Offset>
													<AbsDimension x="7.5" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnClick>
												PlaySound(799);
											</OnClick>
										</Scripts>
									</Button>
									<Button name="$parent_3" inherits="GameMenuButtonTemplate" text="">
										<Size>
											<AbsDimension x="100" y="31" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_2">
												<Offset>
													<AbsDimension x="7.5" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnClick>
												PlaySound(799);
											</OnClick>
										</Scripts>
									</Button>
									<Button name="$parent_4" inherits="GameMenuButtonTemplate" text="">
										<Size>
											<AbsDimension x="100" y="31" />
										</Size>
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_3">
												<Offset>
													<AbsDimension x="7.5" y="0" />
												</Offset>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnClick>
												PlaySound(799);
											</OnClick>
										</Scripts>
									</Button>
								</Frames>
							</Frame>
							<CheckButton name="CEPGP_loot_options_keywords_enable" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_keywords_string">
										<Offset>
											<AbsDimension x="5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										local parent = self:GetParent();
										
										CEPGP.Loot.ExtraKeywords.Enabled = not CEPGP.Loot.ExtraKeywords.Enabled;
										if CEPGP.Loot.ExtraKeywords.Enabled then
											CEPGP_loot_options_keywords:Show();
											CEPGP_loot_options_timer_text:SetPoint("TOPLEFT", CEPGP_loot_options_keywords, "BOTTOMLEFT");
										else
											CEPGP_loot_options_keywords:Hide();
											CEPGP_loot_options_timer_text:SetPoint("TOPLEFT", CEPGP_loot_options_keywords_string, "BOTTOMLEFT", 0, -7);
										end
									</OnClick>
									<OnShow>
										self:SetChecked(CEPGP.Loot.ExtraKeywords.Enabled);
									</OnShow>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("|c000077BE战利品大师功能|r\n需要4个以上的战利品按钮吗？ 启用此选项可为战利品响应添加其他关键字。\n\n你在这里使用的任何关键字都会在战利品分发开始时公布\n请确认你是否勾选了“隐藏战利品公告中的关键词选择”。");
									</OnEnter>
								</Scripts>
							</CheckButton>
							<Frame name="CEPGP_loot_options_keywords">
								<Size>
									<AbsDimension x="550" y="125" />
								</Size>
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_loot_options_keywords_string">
										<Offset x="0" y="-10" />
									</Anchor>
								</Anchors>
								<Frames>
									<ScrollFrame name="$parent_scrollframe" inherits="UIPanelScrollFrameTemplate">
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="TOPLEFT" X="0" Y="-15"/>
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_label" inherits="GameFontNormal" text="标签">
													<Anchors>
														<Anchor point="TOPLEFT" x="0" y="10" />
													</Anchors>
												</FontString>
												<FontString name="$parent_keyword" inherits="GameFontNormal" text="关键字" />
												<FontString name="$parent_discount" inherits="GameFontNormal" text="% 折扣">
													<Anchors>
														<Anchor point="TOPRIGHT">
															<Offset x="0" y="10" />
														</Anchor>
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<ScrollChild>
											<Frame name="$parent_container">
												<Frames>
												</Frames>
											</Frame>
										</ScrollChild>
									</ScrollFrame>
									<EditBox name="$parent_label" inherits="InputBoxTemplate" autofocus="false">
										<Size>
											<AbsDimension x="150" y="21" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_scrollframe" X="0" Y="-20" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_text" inherits="GameFontNormal" text="标签">
													<Anchors>
														<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" />
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Scripts>
											<OnTabPressed>
												CEPGP_loot_options_keywords_name:SetFocus();
											</OnTabPressed>
										</Scripts>
									</EditBox>
									<EditBox name="$parent_name" inherits="InputBoxTemplate" autofocus="false">
										<Size>
											<AbsDimension x="150" y="21" />
										</Size>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_text" inherits="GameFontNormal" text="关键字">
													<Anchors>
														<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" />
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Scripts>
											<OnTabPressed>
												CEPGP_loot_options_keywords_discount:SetFocus();
											</OnTabPressed>
										</Scripts>
									</EditBox>
									<EditBox name="$parent_discount" inherits="InputBoxTemplate" autofocus="false">
										<Size>
											<AbsDimension x="75" y="21" />
										</Size>
										<Layers>
											<Layer level="OVERLAY">
												<FontString name="$parent_text" inherits="GameFontNormal" text="%折扣">
													<Anchors>
														<Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" />
													</Anchors>
												</FontString>
											</Layer>
										</Layers>
										<Scripts>
											<OnTabPressed>
												CEPGP_loot_options_keywords_name:SetFocus();
											</OnTabPressed>
										</Scripts>
									</EditBox>
									<Button name="$parent_confirm" inherits="GameMenuButtonTemplate" text="添加关键词">
										<Size>
											<AbsDimension x="90" y="40" />
										</Size>
										<Anchors>
											<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parent_label" />
										</Anchors>
										<Scripts>
											<OnClick>
												local label = CEPGP_loot_options_keywords_label:GetText();
												local keyword = CEPGP_loot_options_keywords_name:GetText();
												local discount = tonumber(CEPGP_loot_options_keywords_discount:GetText());
												
												if #label == 0 then return; end
												if #keyword == 0 then return; end
												if not discount then return; end
												
												if discount > 300 then
													CEPGP_print("折扣不能小于1或者大于300", true);
													return;
												end
												
												local function isKey(t, val)
													for k, _ in pairs(t) do
														if string.lower(val) == string.lower(k) then
															return true;
														end
													end
													return false;
												end
												
												local function sanitise()
													if string.sub(label, 1, 1) == " " then
														label = string.sub(label, 2);
														sanitise();
														return;
													end
													if string.sub(label, #label) == " " then
														label = string.sub(label, 1, #label-1);
														sanitise();
														return;
													end
													if string.find(label, "  ") then
														local temp = string.sub(label, 1, string.find(label, "  "));
														label = temp .. string.sub(label, string.find(label, "  ")+2);
														sanitise();
														return;
													end
													if string.sub(keyword, 1, 1) == " " then
														keyword = string.sub(keyword, 2);
														sanitise();
														return;
													end
													if string.sub(keyword, #keyword) == " " then
														keyword = string.sub(keyword, 1, #keyword-1);
														sanitise();
														return;
													end
													if string.find(keyword, "  ") then
														local temp = string.sub(keyword, 1, string.find(keyword, "  "));
														keyword = temp .. string.sub(keyword, string.find(keyword, "  ")+2);
														sanitise();
														return;
													end
												end
												
												sanitise();
												
												
												for i = 1, 4 do
													if string.lower(label) == string.lower(CEPGP_response_buttons[i][2]) or
														string.lower(label) == string.lower(CEPGP_response_buttons[i][4])then
														CEPGP_print("标签 '" .. label .. "' 已在使用中", true);
														return;
													end
													if string.lower(keyword) == string.lower(CEPGP_response_buttons[i][2]) or
														string.lower(keyword) == string.lower(CEPGP_response_buttons[i][4])then
														CEPGP_print("关键词 '" .. keyword .. "' 已在使用中", true);
														return;
													end
												end
												
												for k, v in pairs(CEPGP.Loot.ExtraKeywords.Keywords) do
													if k == label or isKey(v, label) then
														CEPGP_print("标签 '" .. label .. "' 已在使用中", true);
														return;
													end
													if k == keyword or isKey(v, keyword) then
														CEPGP_print("关键词 '" .. keyword .. "' 已在使用中", true);
														return;
													end
												end
												
												if 3 > #label then
													CEPGP_print("标签长度必须至少为3个字符", true);
												end
												if 3 > #keyword then
													CEPGP_print("关键字长度必须至少为3个字符", true);
												end
												
												CEPGP.Loot.ExtraKeywords.Keywords[label] = {
													[keyword] = discount
												};
												CEPGP_UpdateKeywordScrollBar();
												CEPGP_loot_options_keywords_label:SetText("");
												CEPGP_loot_options_keywords_name:SetText("");
												CEPGP_loot_options_keywords_discount:SetText("");
											</OnClick>
										</Scripts>
									</Button>
									<Button name="$parent_label_tip">
										<Size x="25" y="25" />
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_label_text" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<Texture name="$parent_texture" file="Interface/TUTORIALFRAME/TutorialFrame-QuestionMark.blp" alphaMode="ADD">
													<Size>
														<AbsDimension x="25" y="25" />
													</Size>
													<Anchors>
														<Anchor point="CENTER" relativePoint="CENTER" />
													</Anchors>
												</Texture>
											</Layer>
										</Layers>
										<Scripts>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("|c000077BE什么是标签？|r\n标签是对这个折扣的实际响应。\n例如：“need”是关键字, 这个标签可以是'主天赋需求' 或者 '贪婪' 也可以是 '收藏'.\n这些将记录在你的公会EPGP记录里.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
										</Scripts>
									</Button>
									<Button name="$parent_keyword_tip">
										<Size x="25" y="25" />
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parent_name_text" />
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<Texture name="$parent_texture" file="Interface/TUTORIALFRAME/TutorialFrame-QuestionMark.blp" alphaMode="ADD">
													<Size>
														<AbsDimension x="25" y="25" />
													</Size>
													<Anchors>
														<Anchor point="CENTER" relativePoint="CENTER" />
													</Anchors>
												</Texture>
											</Layer>
										</Layers>
										<Scripts>
											<OnEnter>
												GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
												GameTooltip:SetText("|c000077BE什么是响应关键字?|r\n关键词是告诉团员需要密你什么才能使用这个响应。\n这个次在EPGP详情中不会显示.");
											</OnEnter>
											<OnLeave>
												GameTooltip:Hide();
											</OnLeave>
										</Scripts>
									</Button>
									<Button name="$parent_discount_tip">
									<Size x="25" y="25" />
									<Anchors>
										<Anchor point="RIGHT" relativePoint="LEFT" relativeTo="$parent_discount_text" />
									</Anchors>
									<Layers>
										<Layer level="OVERLAY">
											<Texture name="$parent_texture" file="Interface/TUTORIALFRAME/ui-tutorialframe-questgiver.blp" alphaMode="ADD">
												<Size>
													<AbsDimension x="25" y="25" />
												</Size>
												<Anchors>
													<Anchor point="CENTER" relativePoint="CENTER" />
												</Anchors>
											</Texture>
										</Layer>
									</Layers>
									<Scripts>
										<OnEnter>
											GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
											GameTooltip:SetText("|c000077BEDiscounts|r\n折扣按规定使用。例如, 如果输入60, 那么就是原价的60%.\n\n|c000077BE提示!|r\n如果你想要一个响应 |c00FF00FF增加|r 一件装备的成本, 使%折扣大于100.");
										</OnEnter>
										<OnLeave>
											GameTooltip:Hide();
										</OnLeave>
									</Scripts>
								</Button>
								</Frames>
							</Frame>
							<EditBox name="CEPGP_loot_options_timer_value" inherits="InputBoxTemplate" autofocus="false" numeric="true">
								<Size>
									<AbsDimension x="60" y="20" />
								</Size>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_timer_text">
										<AbsDimension x="10" y="0" />
									</Anchor>
								</Anchors>
								<Scripts>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("战利品需求设置\n团队成员在自动放弃装备之前有多少秒时间。\n0 = 关闭 (不会自动放弃)");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnEnterPressed>
										self:ClearFocus();
									</OnEnterPressed>
									<OnEditFocusLost>
										self:HighlightText(0,0);
										local value = tonumber(self:GetText());
										local default = CEPGP.Loot.GUI.Timer;
										if not value or value == default then
											self:SetText(tostring(CEPGP.Loot.GUI.Timer));
											return;
										end
										if tonumber(value) then
											CEPGP.Loot.GUI.Timer = tonumber(value);
											CEPGP.Loot.GUI.Timer = tonumber(value);
											if value == "0" then
												CEPGP_print("关闭界面需求时间");
											else
												CEPGP_print("更新界面需求时间");
											end
										end
									</OnEditFocusLost>
									<OnShow>
										self:SetText(tostring(CEPGP.Loot.GUI.Timer));
									</OnShow>
								</Scripts>
							</EditBox>
							<CheckButton name="CEPGP_options_raid_warning_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_raid_warning_text">
										<Offset>
											<AbsDimension x="5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										if self:GetChecked() then
											CEPGP.Loot.RaidWarning = true;
											CEPGP_print("拍卖战利品时发出团队警告");
										else
											CEPGP.Loot.RaidWarning = false;
											CEPGP_print("拍卖战利品时不再发出团队警告");
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("宣布拍卖战利品时，会发出一个团队警告，提示正在分发的物品。");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnShow>
										if CEPGP.Loot.RaidWarning then
											self:SetChecked(true);
										else
											self:SetChecked(false);
										end
									</OnShow>
								</Scripts>
							</CheckButton>
							<EditBox name="CEPGP_loot_options_announce_edit" inherits="InputBoxTemplate" autofocus="false">
								<Size>
									<AbsDimension x="300" y="21" />
								</Size>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_announce_text">
										<AbsDimension x="10" y="0" />
									</Anchor>
								</Anchors>
								<Scripts>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("每个战利品拍卖时公布的消息");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnEnterPressed>
										self:ClearFocus();
									</OnEnterPressed>
									<OnEditFocusLost>
										self:HighlightText(0,0);
										local value = self:GetText();
										local default = CEPGP.Loot.Announcement;
										if value == default then
											return;
										end
										CEPGP.Loot.Announcement = value;
										CEPGP_print("更新战利品公告信息.");
									</OnEditFocusLost>
									<OnShow>
										self:SetText(CEPGP.Loot.Announcement);
									</OnShow>
								</Scripts>
							</EditBox>
							<CheckButton name="CEPGP_loot_options_hide_response_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_hide_response_text">
										<Offset>
											<AbsDimension x="5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										if self:GetChecked() then
											CEPGP.Loot.HideKeyphrases = true;
											CEPGP_print("当拍卖战利品时，替代关键词将不再显示");
										else
											CEPGP.Loot.HideKeyphrases = false;
											CEPGP_print("当拍卖战利品时，替代关键词将显示在公告");
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("防止在战利品公告消息中显示每个响应的关键字短语替代项。");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnShow>
										self:SetChecked(CEPGP.Loot.HideKeyphrases);
									</OnShow>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_options_auto_pass_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_auto_pass">
										<Offset>
											<AbsDimension x="5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										if self:GetChecked() then
											CEPGP_auto_pass = true;
											CEPGP.Loot.AutoPass = true;
											CEPGP_print("现在自动放弃不适合自己的装备分配响应。");
										else
											CEPGP_auto_pass = false;
											CEPGP.Loot.AutoPass = false;
											CEPGP_print("现在不会放弃不合适自己的装备分配响应。");
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("如果你不能装备该物品，使用战利品图形用户界面时会自动放弃装备。");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnShow>
										if CEPGP_auto_pass then
											self:SetChecked(true);
										else
											self:SetChecked(false);
										end
									</OnShow>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_options_announcement_suppression_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_announcement_suppression">
										<Offset>
											<AbsDimension x="-5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										if self:GetChecked() then
											CEPGP_suppress_announcements = true;
											CEPGP.Loot.SuppressResponses = true;
											CEPGP_print("已屏蔽响应公告。");
										else
											CEPGP_suppress_announcements = false;
											CEPGP.Loot.SuppressResponses = false;
											CEPGP_print("已开启响应公告。");
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("战利品分配响应\n在聊天中屏蔽对战利品的响应。\n示例：玩家（职业）需求。");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnShow>
										if CEPGP_suppress_announcements then
											self:SetChecked(true);
										else
											self:SetChecked(false);
										end
									</OnShow>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_loot_options_announcement_delay_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_announcement_delay">
										<Offset>
											<AbsDimension x="-5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										CEPGP.Loot.DelayResponses = self:GetChecked();
										if self:GetChecked() then
											CEPGP_loot_options_announcement_delay_PR:Show();
											CEPGP_loot_options_announcement_delay_PR_Check:Show();
											CEPGP_loot_options_announcement_delay_roll:Show();
											CEPGP_loot_options_announcement_delay_roll_Check:Show();
											
											local yOffs = (CEPGP_loot_options_announcement_delay_roll:GetBottom() - CEPGP_loot_options_announcement_delay:GetBottom())*1.2;
											CEPGP_loot_options_min_EP_text:SetPoint("TOPLEFT", "CEPGP_loot_options_announcement_delay", "BOTTOMLEFT", 0, yOffs);
										else
											CEPGP_loot_options_announcement_delay_PR:Hide();
											CEPGP_loot_options_announcement_delay_PR_Check:Hide();
											CEPGP_loot_options_announcement_delay_roll:Hide();
											CEPGP_loot_options_announcement_delay_roll_Check:Hide();
											CEPGP_loot_options_min_EP_text:SetPoint("TOPLEFT", "CEPGP_loot_options_announcement_delay", "BOTTOMLEFT", 0, -15);
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("战利品分配主功能\n延迟宣布战利品响应，直到所有人都响应为止");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnShow>
										self:SetChecked(CEPGP.Loot.DelayResponses);
									</OnShow>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_loot_options_announcement_delay_PR_Check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_announcement_delay_PR">
										<Offset>
											<AbsDimension x="-5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										CEPGP.Loot.PRWithDelay = self:GetChecked();
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("战利品分配主功能\n包括延迟通知发出时每个玩家的优先级");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnShow>
										self:SetChecked(CEPGP.Loot.PRWithDelay);
									</OnShow>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_loot_options_announcement_delay_roll_Check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_announcement_delay_roll">
										<Offset>
											<AbsDimension x="-5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										CEPGP.Loot.RollWithDelay = self:GetChecked();
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("战利品发布主功能\n包括当延迟的公告发布时每个玩家的Roll点");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnShow>
										self:SetChecked(CEPGP.Loot.RollWithDelay);
									</OnShow>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_loot_options_min_EP_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_min_EP_text">
										<Offset>
											<AbsDimension x="-5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										if self:GetChecked() then
											CEPGP_minEP[1] = true;
											CEPGP.Loot.MinReq[1] = true;
											CEPGP_print("现在需要一个最低的EP值请求战利品。");
											CEPGP_loot_options_min_EP_amount:Show();
										else
											CEPGP_minEP[1] = false;
											CEPGP.Loot.MinReq[1] = false;
											CEPGP_print("现在不需要最低的EP值请求战利品。");
											CEPGP_loot_options_min_EP_amount:Hide();
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("战利品分配主功能\n如果启用，显示玩家想要战利品但少于EP所需值。");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
								</Scripts>
							</CheckButton>
							<EditBox name="CEPGP_loot_options_min_EP_amount" inherits="InputBoxTemplate">
								<Size>
									<AbsDimension x="60" y="20" />
								</Size>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_min_EP_check">
										<AbsDimension x="10" y="0" />
									</Anchor>
								</Anchors>
								<Scripts>
									<OnLoad>
										self:SetAutoFocus(false);
									</OnLoad>
									<OnEnterPressed>
										self:ClearFocus();
									</OnEnterPressed>
									<OnEditFocusLost>
										local value = self:GetText();
										if not tonumber(value) or tonumber(value) == CEPGP_minEP[2] then
											self:SetText(tostring(CEPGP_minEP[2]));
											return;
										end
										CEPGP_minEP[2] = tonumber(self:GetText());
										CEPGP.Loot.MinReq[2] = tonumber(self:GetText());
										CEPGP_print("玩家现在至少需要" .. CEPGP_minEP[2] .. " EP才能需求.");
									</OnEditFocusLost>
									<OnShow>
										self:SetText(CEPGP_minEP[2]);
									</OnShow>
								</Scripts>
							</EditBox>
							<CheckButton name="CEPGP_loot_options_show_passes_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_show_passes">
										<Offset>
											<AbsDimension x="-5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										if self:GetChecked() then
											CEPGP_show_passes = true;
											CEPGP.Loot.ShowPass = true;
											CEPGP_print("在战利品分配中显示放弃的玩家");
										else
											CEPGP_show_passes = false;
											CEPGP.Loot.ShowPass = false;
											CEPGP_print("在战利品分配中不再显示放弃的玩家");
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("战利品分配主功能\n切换是否在分发窗口中显示放弃玩家的信息。");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_loot_options_enforce_PR_sorting_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_enforce_PR_sorting">
										<Offset>
											<AbsDimension x="-5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										if self:GetChecked() then
											CEPGP_PR_sort = true;
											CEPGP.Loot.AutoSort = true;
											CEPGP_print("启用战利品分配的自动排序");
										else
											CEPGP_PR_sort = false;
											CEPGP.Loot.AutoSort = false;
											CEPGP_print("已禁用战利品分配的自动排序");
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("分配战利品时自动按响应按钮优先级排序，然后按PR值排序");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_loot_options_dist_assist_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_dist_raidwide_text">
										<Offset>
											<AbsDimension x="10" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Layers>
									<Layer level="OVERLAY">
										<FontString name="$parent_string" inherits="GameFontNormal" text="团队助理">
											<Anchors>
												<Anchor point="LEFT" relativePoint="RIGHT"/>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Scripts>
									<OnClick>
										if self:GetChecked() then
											CEPGP_raid_wide_dist[1] = true;
											CEPGP.Loot.RaidVisibility[1] = true;
											
											CEPGP_loot_options_dist_raidwide_check:Show();
										else
											CEPGP_raid_wide_dist[1] = false;
											CEPGP.Loot.RaidVisibility[1] = false;
											CEPGP_messageGroup("RaidAssistLootClosed", "assists");
											
											CEPGP_loot_options_dist_raidwide_check:SetChecked(false);
											CEPGP.Loot.RaidVisibility[2] = false;
											CEPGP_loot_options_dist_raidwide_check:Hide();
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("战利品分配主功能\n允许团队协助查看战利品分发窗口。");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnShow>
										self:SetChecked(CEPGP.Loot.RaidVisibility[1]);
										if CEPGP.Loot.RaidVisibility[1] then
											CEPGP_loot_options_dist_raidwide_check:Show();
										else
											CEPGP_loot_options_dist_raidwide_check:Hide();
										end
									</OnShow>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_loot_options_dist_raidwide_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_dist_assist_check_string">
										<Offset>
											<AbsDimension x="10" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Layers>
									<Layer level="OVERLAY">
										<FontString name="$parent_string" inherits="GameFontNormal" text="团队范围">
											<Anchors>
												<Anchor point="LEFT" relativePoint="RIGHT" />
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Scripts>
									<OnClick>
										if self:GetChecked() then
											CEPGP_raid_wide_dist[2] = true;
											CEPGP.Loot.RaidVisibility[2] = true;
										else
											CEPGP_raid_wide_dist[2] = false;
											CEPGP.Loot.RaidVisibility[2] = false;
											CEPGP_SendAddonMsg("RaidAssistLootClosed", "RAID");
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("战利品分配主功能\n允许所有团队成员查看战利品分发窗口。");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_loot_options_autoshow_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_autoshow_text" x="-5" />
								</Anchors>
								<Scripts>
									<OnShow>
										self:SetChecked(CEPGP.Loot.AutoShow);
									</OnShow>
									<OnClick>
										CEPGP.Loot.AutoShow = self:GetChecked();
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("个人功能\n如果您的战利品主控系统启用了“团队范围内的战利品可见性”（或者您是一个团队助手），并且您启用了此功能，则当宣布某件装备时，CEPGP将自动打开“战利品分发”窗口。");
									</OnEnter>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_loot_options_pass_roll_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_pass_roll_text">
										<Offset>
											<AbsDimension x="-5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										if self:GetChecked() then
											CEPGP.Loot.PassRolls = true;
											CEPGP_print("现在将为放弃该装备的玩家进行Roll点.");
										else
											CEPGP.Loot.PassRolls = false;
											CEPGP_print("现在不会为放弃该装备的玩家进行Roll点.");
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("为已经放弃该装备玩家进行Roll点.\n|c00FF0000注意: 如果启用, 'Roll点最高者将获得装备' 前提是所有人都放弃了该装备.|r");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnShow>
										if CEPGP.Loot.PassRolls then
											self:SetChecked(true);
										else
											self:SetChecked(false);
										end
									</OnShow>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_loot_options_announce_roll_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_announce_roll_text">
										<Offset>
											<AbsDimension x="-5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										if self:GetChecked() then
											CEPGP.Loot.RollAnnounce = true;
											CEPGP_print("当玩家对战利品做出反应时，Roll点将被宣布。");
										else
											CEPGP.Loot.RollAnnounce = false;
											CEPGP_print("当玩家回应战利品时，Roll点将不再被宣布。");
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("在宣布他们的战利品响应时包括玩家的Roll点结果。");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnShow>
										if CEPGP.Loot.RollAnnounce then
											self:SetChecked(true);
										else
											self:SetChecked(false);
										end
									</OnShow>
								</Scripts>
							</CheckButton>
							<CheckButton name="CEPGP_loot_options_resolve_roll_check" inherits="UIOptionsCheckButtonTemplate">
								<HitRectInsets>
									<AbsInset left="0" right="0" top="0" bottom="0" />
								</HitRectInsets>
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_resolve_roll_text">
										<Offset>
											<AbsDimension x="-5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnClick>
										if self:GetChecked() then
											CEPGP.Loot.ResolveRolls = true;
											CEPGP_print("相同的点数将自动解决");
										else
											CEPGP.Loot.ResolveRolls = false;
											CEPGP_print("现在允许出现相同的点数");
										end
									</OnClick>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("如果CEPGP为多个玩家Roll出相同的点数，随后相同的玩家将重新Roll点，直到没有重复的点数为止。");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnShow>
										if CEPGP.Loot.ResolveRolls then
											self:SetChecked(true);
										else
											self:SetChecked(false);
										end
									</OnShow>
								</Scripts>
							</CheckButton>
							
							<Button name="CEPGP_min_threshold_dropdown" inherits="UIDropDownMenuTemplate">
								<Anchors>
									<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_loot_options_min_threshold_text">
										<Offset>
											<AbsDimension x="5" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnShow>
										CEPGP_minThresholdDropdown();
										UIDropDownMenu_SetWidth(self, 140);
									</OnShow>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("个人设置\n为CEPGP战利品分配窗口设置最低等级物品稀有度，使其在界面中自动显示。\n要求你是队长拾取并且在一个团队中。");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnLoad>
										CEPGP_initDropdown(self, CEPGP_minThresholdDropdown);
									</OnLoad>
								</Scripts>
							</Button>
							<Button name="CEPGP_loot_channel_dropdown" inherits="UIDropDownMenuTemplate">
								<Anchors>
									<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_min_threshold_dropdown">
										<Offset>
											<AbsDimension x="0" y="0" />
										</Offset>
									</Anchor>
								</Anchors>
								<Scripts>
									<OnShow>
										CEPGP_lootChannelDropdown();
										UIDropDownMenu_SetWidth(self, 140);
									</OnShow>
									<OnEnter>
										GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
										GameTooltip:SetText("设置战利品分配及响应发送到的频道。\n示例：玩家（职业）需要。");
									</OnEnter>
									<OnLeave>
										GameTooltip:Hide();
									</OnLeave>
									<OnLoad>
										CEPGP_initDropdown(self, CEPGP_lootChannelDropdown);
									</OnLoad>
								</Scripts>
							</Button>
						</Frames>
					</Frame>
				</ScrollChild>
			</ScrollFrame>
		</Frames>		
		<Scripts>
			<OnShow>
				local width = self:GetWidth();
				local height = self:GetHeight();
				
				CEPGP_loot_options_scrollframe:SetWidth(width-40);
				CEPGP_loot_options_scrollframe_container:SetWidth(width-40);
				CEPGP_loot_options_scrollframe:SetHeight(height-20);
				CEPGP_loot_options_scrollframe_container:SetHeight(height-20);
				
				width, height = CEPGP_loot_options_keywords:GetWidth(), CEPGP_loot_options_keywords:GetHeight();
				
				CEPGP_loot_options_keywords_scrollframe:SetWidth(width-20);
				CEPGP_loot_options_keywords_scrollframe_container:SetWidth(width-20);
				CEPGP_loot_options_keywords_scrollframe:SetHeight(130);
				CEPGP_loot_options_keywords_scrollframe_container:SetHeight(130);
				if not CEPGP.Loot.ExtraKeywords then CEPGP.Loot.ExtraKeywords = {Enabled = false}; end
				CEPGP_loot_options_keywords:SetHeight((CEPGP_loot_options_keywords_enable:GetTop())-(CEPGP_loot_options_keywords_confirm:GetBottom()));
				CEPGP_loot_options_keywords_discount:SetPoint("TOPRIGHT", CEPGP_loot_options_keywords_scrollframe, "BOTTOMRIGHT", 0, -20);
				CEPGP_loot_options_keywords_scrollframe_keyword:SetPoint("LEFT", CEPGP_loot_options_keywords_scrollframe_label, "LEFT", (width-20)/3, 0);
				CEPGP_loot_options_keywords_name:SetPoint("LEFT", CEPGP_loot_options_keywords_label, "LEFT", (width-20)/3, 0);
				CEPGP_loot_options_keywords_string:SetPoint("TOPLEFT", CEPGP_loot_options_preview, "BOTTOMLEFT");
				
				if CEPGP.Loot.ExtraKeywords.Enabled then
					CEPGP_loot_options_keywords:Show();
					CEPGP_loot_options_timer_text:SetPoint("TOPLEFT", CEPGP_loot_options_keywords, "BOTTOMLEFT");
				else
					CEPGP_loot_options_keywords:Hide();
					CEPGP_loot_options_timer_text:SetPoint("TOPLEFT", CEPGP_loot_options_keywords_string, "BOTTOMLEFT", 0, -7);
				end
				
				CEPGP_UpdateKeywordScrollBar();
				
				
				CEPGP_loot_options_raid_warning_text:SetPoint("TOPLEFT", "CEPGP_loot_options_timer_text", "BOTTOMLEFT", 0, -10);
				CEPGP_loot_options_announce_text:SetPoint("TOPLEFT", "CEPGP_loot_options_raid_warning_text", "BOTTOMLEFT", 0, -10);
				CEPGP_loot_options_hide_response_text:SetPoint("TOPLEFT", "CEPGP_loot_options_announce_text", "BOTTOMLEFT", 0, -10);
				CEPGP_loot_options_auto_pass:SetPoint("TOPLEFT", "CEPGP_loot_options_hide_response_text", "BOTTOMLEFT", 0, -10);
				CEPGP_loot_options_announcement_suppression:SetPoint("TOPLEFT", "CEPGP_loot_options_auto_pass", "BOTTOMLEFT", 0, -10);
				CEPGP_loot_options_announcement_delay:SetPoint("TOPLEFT", "CEPGP_loot_options_announcement_suppression", "BOTTOMLEFT", 0, -10);
				CEPGP_loot_options_announcement_delay_PR:SetPoint("TOPLEFT", "CEPGP_loot_options_announcement_delay", "BOTTOMLEFT", CEPGP_loot_options_announcement_delay:GetStringWidth()/4, -10);
				CEPGP_loot_options_announcement_delay_roll:SetPoint("TOPLEFT", "CEPGP_loot_options_announcement_delay_PR", "BOTTOMLEFT", 0, -10);
				if CEPGP_loot_options_announcement_delay_check:GetChecked() then
					local yOffs = (CEPGP_loot_options_announcement_delay_roll:GetBottom() - CEPGP_loot_options_announcement_delay:GetBottom())*1.2;
					CEPGP_loot_options_min_EP_text:SetPoint("TOPLEFT", "CEPGP_loot_options_announcement_delay", "BOTTOMLEFT", 0, yOffs);
					CEPGP_loot_options_announcement_delay_PR:Show();
					CEPGP_loot_options_announcement_delay_PR_Check:Show();
					CEPGP_loot_options_announcement_delay_roll:Show();
					CEPGP_loot_options_announcement_delay_roll_Check:Show();
				else
					CEPGP_loot_options_min_EP_text:SetPoint("TOPLEFT", "CEPGP_loot_options_announcement_delay", "BOTTOMLEFT", 0, -15);
					CEPGP_loot_options_announcement_delay_PR:Hide();
					CEPGP_loot_options_announcement_delay_PR_Check:Hide();
					CEPGP_loot_options_announcement_delay_roll:Hide();
					CEPGP_loot_options_announcement_delay_roll_Check:Hide();
				end
				CEPGP_loot_options_show_passes:SetPoint("TOPLEFT", "CEPGP_loot_options_min_EP_text", "BOTTOMLEFT", 0, -10);
				CEPGP_loot_options_enforce_PR_sorting:SetPoint("TOPLEFT", "CEPGP_loot_options_show_passes", "BOTTOMLEFT", 0, -10);
				CEPGP_loot_options_dist_raidwide_text:SetPoint("TOPLEFT", "CEPGP_loot_options_enforce_PR_sorting", "BOTTOMLEFT", 0, -10);
				CEPGP_loot_options_autoshow_text:SetPoint("TOPLEFT", "CEPGP_loot_options_dist_raidwide_text", "BOTTOMLEFT", 0, -10);
				CEPGP_loot_options_min_threshold_text:SetPoint("TOPLEFT", "CEPGP_loot_options_autoshow_text", "BOTTOMLEFT", 0, -10);
				CEPGP_loot_options_channel_text:SetPoint("TOPLEFT", "CEPGP_loot_options_min_threshold_text", "BOTTOMLEFT", 0, -17.5);
				CEPGP_loot_options_pass_roll_text:SetPoint("TOPLEFT", "CEPGP_loot_options_channel_text", "BOTTOMLEFT", 0, -17.5);
				CEPGP_loot_options_announce_roll_text:SetPoint("TOPLEFT", "CEPGP_loot_options_pass_roll_text", "BOTTOMLEFT", 0, -10);
				CEPGP_loot_options_resolve_roll_text:SetPoint("TOPLEFT", "CEPGP_loot_options_announce_roll_text", "BOTTOMLEFT", 0, -10);
				
				for i = 1, 4 do
					local frame = _G[self:GetName() .. "_preview_" .. i];
					if CEPGP_response_buttons[i][1] then
						frame:Show();
					else
						frame:Hide();
					end
					frame:SetText(CEPGP_response_buttons[i][2]);
					
					frame = self:GetName();
					
					
					_G[frame .. "_" .. i .. "_enabled_check"]:SetChecked(CEPGP_response_buttons[i][1]);
					_G[frame .. "_" .. i .. "_text"]:SetText(CEPGP_response_buttons[i][2]);
					_G[frame .. "_" .. i .. "_discount"]:SetText(tostring(CEPGP_response_buttons[i][3]));
					_G[frame .. "_" .. i .. "_whisper_edit"]:SetText(CEPGP_response_buttons[i][4]);
				end
				
				CEPGP_loot_options_announce_edit:SetText(CEPGP.Loot.Announcement);
				CEPGP_options_auto_pass_check:SetChecked(CEPGP.Loot.AutoPass);
				CEPGP_options_announcement_suppression_check:SetChecked(CEPGP.Loot.SuppressResponses);
				CEPGP_loot_options_min_EP_check:SetChecked(CEPGP.Loot.MinReq[1]);
				CEPGP_loot_options_min_EP_amount:SetText(CEPGP.Loot.MinReq[2]);
				CEPGP_loot_options_show_passes_check:SetChecked(CEPGP.Loot.ShowPass);
				if CEPGP_loot_options_min_EP_check:GetChecked() then
					CEPGP_loot_options_min_EP_amount:Show();
				else
					CEPGP_loot_options_min_EP_amount:Hide();
				end
				CEPGP_loot_options_show_passes_check:SetChecked(CEPGP.Loot.ShowPass);
				CEPGP_loot_options_enforce_PR_sorting_check:SetChecked(CEPGP.Loot.AutoSort);
				CEPGP_loot_options_dist_assist_check:SetChecked(CEPGP.Loot.RaidVisibility[1]);
				CEPGP_loot_options_dist_raidwide_check:SetChecked(CEPGP.Loot.RaidVisibility[2]);
				
			</OnShow>
		</Scripts>
	</Frame>
	
	<Frame name="CEPGP_options_plugins" hidden="true">
		<Size>
			<AbsDimension x="580" y="435" />
		</Size>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="$parent_mode" inherits="GameFontNormalLarge" text="插件管理器">
					<Anchors>
						<Anchor point="CENTER" relativePoint="TOP">
							<AbsDimension x="0" y="-20" />
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="$parent_enabled_header" inherits="GameFontNormal" text="启用">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<AbsDimension x="5" y="-20" />
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
	</Frame>
	
	<Frame name="CEPGP_standby_options" hidden="true">
		<Anchors>
			<Anchor point="TOPLEFT" relativePoint="TOPLEFT" />
		</Anchors>
		<Layers>
			<Layer level="OVERLAY">
				<FontString name="CEPGP_options_standby_ep_head" inherits="GameFontNormalLarge" text="替补成员EP管理">
					<Anchors>
						<Anchor point="CENTER" relativePoint="TOP">
							<Offset>
								<AbsDimension x="0" y="-20" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep" inherits="GameFontNormal" text="自动奖励替补EP:">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
							<Offset>
								<AbsDimension x="0" y="-30" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_share_text" inherits="GameFontNormal" text="与助手共享替补列表:">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep">
							<Offset>
								<AbsDimension x="0" y="-5" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_offline" inherits="GameFontNormal" text="自动奖励EP给离线的替补玩家: ">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT">
							<Offset>
								<AbsDimension x="-40" y="-30" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_byrank" inherits="GameFontNormal" text="根据会阶自动奖励替补EP: ">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_standby_ep_offline">
							<Offset>
								<AbsDimension x="0" y="-5" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_manual" inherits="GameFontNormal" text="根据替补列表自动奖励替补EP: ">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" relativeTo="CEPGP_options_standby_ep_byrank">
							<Offset>
								<AbsDimension x="0" y="-5" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_val_percent" inherits="GameFontNormal" text="替补奖励EP比例: ">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_share_text">
							<Offset>
								<AbsDimension x="0" y="-5" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_accept_whispers" inherits="GameFontNormal" text="允许私聊指令加入替补列表:">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_val_percent">
							<Offset>
								<AbsDimension x="0" y="-8" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_whisper_message" inherits="GameFontNormal" text="替补的私聊指令信息: ">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_accept_whispers">
							<Offset>
								<AbsDimension x="0" y="-8" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_rank_1" inherits="GameFontNormal" text="">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_val_percent">
							<Offset>
								<AbsDimension x="0" y="-15" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_rank_2" inherits="GameFontNormal" text="">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_rank_1">
							<Offset>
								<AbsDimension x="0" y="-8" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_rank_3" inherits="GameFontNormal" text="">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_rank_2">
							<Offset>
								<AbsDimension x="0" y="-8" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_rank_4" inherits="GameFontNormal" text="">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_standby_ep_rank_1">
							<Offset>
								<AbsDimension x="120" y="0" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_rank_5" inherits="GameFontNormal" text="">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_rank_4">
							<Offset>
								<AbsDimension x="0" y="-8" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_rank_6" inherits="GameFontNormal" text="">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_rank_5">
							<Offset>
								<AbsDimension x="0" y="-8" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_rank_7" inherits="GameFontNormal" text="">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_rank_6">
							<Offset>
								<AbsDimension x="0" y="-8" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_rank_8" inherits="GameFontNormal" text="">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_standby_ep_rank_4">
							<Offset>
								<AbsDimension x="120" y="0" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_rank_9" inherits="GameFontNormal" text="">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_rank_8">
							<Offset>
								<AbsDimension x="0" y="-8" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<FontString name="CEPGP_options_standby_ep_rank_10" inherits="GameFontNormal" text="">
					<Color r="1" g="1" b="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_rank_9">
							<Offset>
								<AbsDimension x="0" y="-8" />
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<CheckButton name="CEPGP_options_standby_ep_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_standby_ep">
						<Offset>
							<AbsDimension x="5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForClicks('LeftButtonDown');
					</OnLoad>
					<OnClick>
						if self:GetChecked() then
							STANDBYEP = true;
							CEPGP.Standby.Enabled = true;
						else
							STANDBYEP = false;
							CEPGP.Standby.Enabled = false;
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("替补奖励说明\n给替补名单上的玩家自动奖励一定比例\n团队击杀BOSS所获得EP值。（只有击杀BOSS）");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</CheckButton>
			<EditBox name="CEPGP_options_standby_ep_val" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="40" y="20" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_standby_ep_val_percent">
						<Offset>
							<AbsDimension x="15" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
					<OnEditFocusLost>
						self:HighlightText(0,0);
						local value = self:GetText();
						if not CEPGP_isNumber(value) then
							if string.find(self:GetText(), "%%") then
								self:SetText(string.sub(value, 0, string.find(value, "%%")-1));
								STANDBYPERCENT = tonumber(value);
							else
								CEPGP_print("替补人员百分比只能包含数字", true);
								self:SetText(tostring(STANDBYPERCENT));
							end
						elseif STANDBYPERCENT ~= tonumber(value) then
							STANDBYPERCENT = tonumber(value);
							CEPGP.Standby.Percent = tonumber(value);
							CEPGP_print("替补人员EP百分比已更新");
						end
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<CheckButton name="CEPGP_options_standby_ep_share_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_standby_ep_share_text">
						<Offset>
							<AbsDimension x="5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForClicks('LeftButtonDown');
					</OnLoad>
					<OnClick>
						if self:GetChecked() then
							CEPGP_standby_share = true;
							CEPGP.Standby.Share = true;
							local limit = #CEPGP_standbyRoster;
							local count = 1;
							--for _, t in pairs(CEPGP_standbyRoster) do
							if limit > 0 then
								C_Timer.NewTicker(1, function()
									local t = CEPGP_standbyRoster[count];
									local message = "StandbyListAdd;"..t[1]..";"..t[2]..";"..t[3]..";"..t[4]..";"..t[5]..";"..t[6]..";"..t[8];
									CEPGP_SendAddonMsg(message, "RAID");
									count = count + 1;
								end, limit);
							end
						else
							CEPGP_standby_share = false;
							CEPGP.Standby.Share = false;
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("替补主功能\n与助手共享显示团队所有的替补。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_options_standby_ep_offline_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_standby_ep_offline">
						<Offset>
							<AbsDimension x="5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForClicks('LeftButtonDown');
					</OnLoad>
					<OnClick>
						if self:GetChecked() then
							STANDBYOFFLINE = true;
							CEPGP.Standby.Offline = true;
						else
							STANDBYOFFLINE = false;
							CEPGP.Standby.Offline = false;
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("将自动奖励EP授予替补列表中的离线玩家。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_options_standby_ep_accept_whispers_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_standby_ep_accept_whispers">
						<Offset>
							<AbsDimension x="5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForClicks('LeftButtonDown');
					</OnLoad>
					<OnClick>
						if self:GetChecked() then
							CEPGP_standby_accept_whispers = true;
							CEPGP.Standby.AcceptWhispers = true;
						else
							CEPGP_standby_accept_whispers = false;
							CEPGP.Standby.AcceptWhispers = false;
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("允许公会成员向你密语特定信息\n自动把该玩家添加到替补列表。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</CheckButton>
			<EditBox name="CEPGP_options_standby_ep_message_val" inherits="InputBoxTemplate">
				<Size>
					<AbsDimension x="80" y="20" />
				</Size>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_standby_ep_accept_whispers_check" />
				</Anchors>
				<Scripts>
					<OnLoad>
						self:SetAutoFocus(false);
					</OnLoad>
					<OnEnterPressed>
						self:ClearFocus();
					</OnEnterPressed>
					<OnShow>
						self:SetText(CEPGP_standby_whisper_msg);
					</OnShow>
					<OnEditFocusLost>
						self:HighlightText(0,0);
						local msg = tostring(self:GetText());
						if msg == "" then
							self:SetText(CEPGP_standby_whisper_msg);
						elseif CEPGP_standby_whisper_msg ~= msg then
							CEPGP_standby_whisper_msg = msg;
							CEPGP.Standby.Keyword = msg;
							CEPGP_print("自动加入团队替补的密语消息已更新");
						end
					</OnEditFocusLost>
				</Scripts>
			</EditBox>
			<CheckButton name="CEPGP_options_standby_ep_byrank_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_standby_ep_byrank">
						<Offset>
							<AbsDimension x="5" y="0" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForClicks('LeftButtonDown');
					</OnLoad>
					<OnClick>
						if self:GetChecked() then
							CEPGP_options_standby_ep_manual_check:SetChecked(false);
							CEPGP_standby_manual = false;
							CEPGP_standby_byrank = true;
							CEPGP.Standby.Manual = false;
							CEPGP.Standby.ByRank = true;
							CEPGP_toggleStandbyRanks(true);
						else
							self:SetChecked(true);
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("将团队替补自动获取EP授予所选的会阶中的所有玩家。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_options_standby_ep_manual_check" inherits="UIOptionsCheckButtonTemplate">
				<HitRectInsets>
					<AbsInset left="0" right="0" top="0" bottom="0" />
				</HitRectInsets>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="CEPGP_options_standby_ep_byrank_check">
						<Offset>
							<AbsDimension x="0" y="8" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						self:RegisterForClicks('LeftButtonDown');
					</OnLoad>
					<OnClick>
						if self:GetChecked() then
							CEPGP_options_standby_ep_byrank_check:SetChecked(false);
							CEPGP_standby_manual = true;
							CEPGP_standby_byrank = false;
							CEPGP.Standby.Manual = true;
							CEPGP.Standby.ByRank = false;
							CEPGP_toggleStandbyRanks(false);
						else
							self:SetChecked(true);
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("手动将公会成员添加到替补列表。");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</CheckButton>
			<CheckButton name="CEPGP_options_standby_ep_check_rank_1" id="1" inherits="StandbyEPRankCheckBox" />
			<CheckButton name="CEPGP_options_standby_ep_check_rank_2" id="2" inherits="StandbyEPRankCheckBox" />
			<CheckButton name="CEPGP_options_standby_ep_check_rank_3" id="3" inherits="StandbyEPRankCheckBox" />
			<CheckButton name="CEPGP_options_standby_ep_check_rank_4" id="4" inherits="StandbyEPRankCheckBox" />
			<CheckButton name="CEPGP_options_standby_ep_check_rank_5" id="5" inherits="StandbyEPRankCheckBox" />
			<CheckButton name="CEPGP_options_standby_ep_check_rank_6" id="6" inherits="StandbyEPRankCheckBox" />
			<CheckButton name="CEPGP_options_standby_ep_check_rank_7" id="7" inherits="StandbyEPRankCheckBox" />
			<CheckButton name="CEPGP_options_standby_ep_check_rank_8" id="8" inherits="StandbyEPRankCheckBox" />
			<CheckButton name="CEPGP_options_standby_ep_check_rank_9" id="9" inherits="StandbyEPRankCheckBox" />
			<CheckButton name="CEPGP_options_standby_ep_check_rank_10" id="10" inherits="StandbyEPRankCheckBox" />
			<Frame name="$parent_list_container">
				<Size>
					<AbsDimension x="405" y="450" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="CEPGP_options_standby_ep_whisper_message">
						<AbsDimension x="0" y="-50" />
					</Anchor>
				</Anchors>
				<Frames>
					<ScrollFrame name="CEPGP_standby_scrollframe" inherits="UIPanelScrollFrameTemplate">
						<Size>
							<AbsDimension x="405" y="300"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPLEFT">
								<Offset>
									<AbsDimension x="10" y="-75"/>
								</Offset>
							</Anchor>
						</Anchors>
						<ScrollChild>
							<Frame name="CEPGP_standby_scrollframe_container">
								<Size>
									<AbsDimension x="400" y="275" />
								</Size>
							</Frame>
						</ScrollChild>
					</ScrollFrame>
					<Button name="CEPGP_standby_name" inherits="CEPGPHeaderButton" text="名字">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT">
								<Offset>
									<AbsDimension x="5" y="-50" />
									<!--<AbsDimension x="40" y="0" />-->
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(1, "Standby");
								CEPGP_standbyRoster = CEPGP_tSort(CEPGP_standbyRoster, 1);
								CEPGP_UpdateStandbyScrollBar();
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_standby_class" inherits="CEPGPHeaderButton" text="职业">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeTo="CEPGP_standby_name">
								<Offset>
									<AbsDimension x="85" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(2, "Standby");
								CEPGP_standbyRoster = CEPGP_tSort(CEPGP_standbyRoster, 2);
								CEPGP_UpdateStandbyScrollBar();
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_standby_rank" inherits="CEPGPHeaderButton" text="会阶">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeTo="CEPGP_standby_class">
								<Offset>
									<AbsDimension x="75" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(4, "Standby");
								CEPGP_standbyRoster = CEPGP_tSort(CEPGP_standbyRoster, 4);
								CEPGP_UpdateStandbyScrollBar();
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_standby_EP" inherits="CEPGPHeaderButton" text="EP">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeTo="CEPGP_standby_rank">
								<Offset>
									<AbsDimension x="85" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(5, "Standby");
								CEPGP_standbyRoster = CEPGP_tSort(CEPGP_standbyRoster, 5);
								CEPGP_UpdateStandbyScrollBar();
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_standby_GP" inherits="CEPGPHeaderButton" text="GP">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeTo="CEPGP_standby_EP">
								<Offset>
									<AbsDimension x="60" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(6, "Standby");
								CEPGP_standbyRoster = CEPGP_tSort(CEPGP_standbyRoster, 6);
								CEPGP_UpdateStandbyScrollBar();
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CEPGP_standby_PR" inherits="CEPGPHeaderButton" text="PR">
						<Size>
							<AbsDimension x="50" y="20" />
						</Size>
						<Anchors>
							<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_standby_GP">
								<Offset>
									<AbsDimension x="10" y="0" />
								</Offset>
							</Anchor>
						</Anchors>
						<Scripts>
							<OnClick>
								CEPGP_setCriteria(7, "Standby");
								CEPGP_standbyRoster = CEPGP_tSort(CEPGP_standbyRoster, 7);
								CEPGP_UpdateStandbyScrollBar();
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
			</Frame>
			<Button name="CEPGP_options_standby_ep_award" inherits="GameMenuButtonTemplate" text="奖励替补EP">
				<Size>
					<AbsDimension x="125" y="25"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="0" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(856);
						CEPGP_ListButton_OnClick(self:GetName(), button);
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(self, "ANCHOR_TOPRIGHT");
						GameTooltip:SetText("Add/subtract EP for players on the standby list.");
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="CEPGP_standby_ep_list_add" inherits="GameMenuButtonTemplate" text="添加到替补">
				<Size>
					<AbsDimension x="100" y="25" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_options_standby_ep_award">
						<Offset>
							<AbsDimension x="10" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						if UnitInRaid("player") then
							CEPGP_ListButton_OnClick(self:GetName(), button);
						else
							CEPGP_print("你需要加入一个团队才能将玩家添加到替补状态。", true);
						end
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_standby_ep_list_addbyrank" inherits="GameMenuButtonTemplate" text="添加会阶到替补">
				<Size>
					<AbsDimension x="125" y="25" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_standby_ep_list_add">
						<Offset>
							<AbsDimension x="10" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						if UnitInRaid("player") then
							CEPGP_ListButton_OnClick(self:GetName(), button);
						else
							CEPGP_print("你需要加入一个团队才能将玩家添加到替补状态。", true);
						end
					</OnClick>
				</Scripts>
			</Button>
			<Button name="CEPGP_standby_ep_list_purge" inherits="GameMenuButtonTemplate" text="清空替补列表">
				<Size>
					<AbsDimension x="100" y="25" />
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="CEPGP_standby_ep_list_addbyrank">
						<Offset> 
							<AbsDimension x="10" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						PlaySound(799);
						CEPGP_ListButton_OnClick(self:GetName(), button);
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnShow>
				CEPGP_options_standby_ep_check:SetChecked(CEPGP.Standby.Enabled);
				CEPGP_options_standby_ep_val:SetText(CEPGP.Standby.Percent);
				CEPGP_options_standby_ep_share_check:SetChecked(CEPGP.Standby.Share);
				CEPGP_options_standby_ep_offline_check:SetChecked(CEPGP.Standby.Offline);
				CEPGP_options_standby_ep_accept_whispers_check:SetChecked(CEPGP.Standby.AcceptWhispers);
				CEPGP_options_standby_ep_message_val:SetText(CEPGP.Standby.Keyword);
				CEPGP_options_standby_ep_byrank_check:SetChecked(CEPGP.Standby.ByRank);
				CEPGP_options_standby_ep_manual_check:SetChecked(CEPGP.Standby.Manual);
				CEPGP_toggleStandbyRanks(CEPGP.Standby.ByRank);
			</OnShow>
		</Scripts>
	</Frame>
	
</Ui>